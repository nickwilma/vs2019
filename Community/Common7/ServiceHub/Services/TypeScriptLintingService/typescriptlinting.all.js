module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=40)}([function(e,t){e.exports=require("path")},function(e,t,r){
/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(t){"use strict";"function"==typeof bootstrap?bootstrap("promise",t):e.exports=t()}((function(){"use strict";var e=!1;try{throw new Error}catch(t){e=!!t.stack}var t,r=b(),n=function(){},o=function(){var e={task:void 0,next:null},t=e,r=!1,n=void 0,i=!1,s=[];function c(){for(var t,n;e.next;)t=(e=e.next).task,e.task=void 0,(n=e.domain)&&(e.domain=void 0,n.enter()),a(t,n);for(;s.length;)a(t=s.pop());r=!1}function a(e,t){try{e()}catch(e){if(i)throw t&&t.exit(),setTimeout(c,0),t&&t.enter(),e;setTimeout((function(){throw e}),0)}t&&t.exit()}if(o=function(e){t=t.next={task:e,domain:i&&process.domain,next:null},r||(r=!0,n())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)i=!0,n=function(){process.nextTick(c)};else if("function"==typeof setImmediate)n="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=function(){n=l,u.port1.onmessage=c,c()};var l=function(){u.port2.postMessage(0)};n=function(){setTimeout(c,0),l()}}else n=function(){setTimeout(c,0)};return o.runAfter=function(e){s.push(e),r||(r=!0,n())},o}(),i=Function.call;function s(e){return function(){return i.apply(e,arguments)}}var c,a=s(Array.prototype.slice),u=s(Array.prototype.reduce||function(e,t){var r=0,n=this.length;if(1===arguments.length)for(;;){if(r in this){t=this[r++];break}if(++r>=n)throw new TypeError}for(;r<n;r++)r in this&&(t=e(t,this[r],r));return t}),l=s(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),f=s(Array.prototype.map||function(e,t){var r=this,n=[];return u(r,(function(o,i,s){n.push(e.call(t,i,s,r))}),void 0),n}),h=Object.create||function(e){function t(){}return t.prototype=e,new t},p=s(Object.prototype.hasOwnProperty),d=Object.keys||function(e){var t=[];for(var r in e)p(e,r)&&t.push(r);return t},v=s(Object.prototype.toString);function g(e){return"[object StopIteration]"===v(e)||e instanceof c}c="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};function m(t,r){if(e&&r.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf("From previous event:")){for(var n=[],o=r;o;o=o.source)o.stack&&n.unshift(o.stack);n.unshift(t.stack);var i=n.join("\nFrom previous event:\n");t.stack=function(e){for(var t=e.split("\n"),r=[],n=0;n<t.length;++n){var o=t[n];!E(o)&&(-1===(i=o).indexOf("(module.js:")&&-1===i.indexOf("(node.js:"))&&o&&r.push(o)}var i;return r.join("\n")}(i)}}function y(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(e);return n?[n[1],Number(n[2])]:void 0}function E(e){var n=y(e);if(!n)return!1;var o=n[0],i=n[1];return o===t&&i>=r&&i<=B}function b(){if(e)try{throw new Error}catch(e){var r=e.stack.split("\n"),n=y(r[0].indexOf("@")>0?r[1]:r[2]);if(!n)return;return t=n[0],n[1]}}function S(e){return e instanceof I?e:k(e)?function(e){var t=w();return S.nextTick((function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}})),t.promise}(e):M(e)}function w(){var t,r=[],n=[],o=h(w.prototype),i=h(I.prototype);if(i.promiseDispatch=function(e,o,i){var s=a(arguments);r?(r.push(s),"when"===o&&i[1]&&n.push(i[1])):S.nextTick((function(){t.promiseDispatch.apply(t,s)}))},i.valueOf=function(){if(r)return i;var e=P(t);return C(e)&&(t=e),e},i.inspect=function(){return t?t.inspect():{state:"pending"}},S.longStackSupport&&e)try{throw new Error}catch(e){i.stack=e.stack.substring(e.stack.indexOf("\n")+1)}function s(e){t=e,i.source=e,u(r,(function(t,r){S.nextTick((function(){e.promiseDispatch.apply(e,r)}))}),void 0),r=void 0,n=void 0}return o.promise=i,o.resolve=function(e){t||s(S(e))},o.fulfill=function(e){t||s(M(e))},o.reject=function(e){t||s(F(e))},o.notify=function(e){t||u(n,(function(t,r){S.nextTick((function(){r(e)}))}),void 0)},o}function N(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=w();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function R(e){return N((function(t,r){for(var n=0,o=e.length;n<o;n++)S(e[n]).then(t,r)}))}function I(e,t,r){void 0===t&&(t=function(e){return F(new Error("Promise does not support operation: "+e))}),void 0===r&&(r=function(){return{state:"unknown"}});var n=h(I.prototype);if(n.promiseDispatch=function(r,o,i){var s;try{s=e[o]?e[o].apply(n,i):t.call(n,o,i)}catch(e){s=F(e)}r&&r(s)},n.inspect=r,r){var o=r();"rejected"===o.state&&(n.exception=o.reason),n.valueOf=function(){var e=r();return"pending"===e.state||"rejected"===e.state?n:e.value}}return n}function O(e,t,r,n){return S(e).then(t,r,n)}function P(e){if(C(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function C(e){return e instanceof I}function k(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}S.resolve=S,S.nextTick=o,S.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(S.longStackSupport=!0),S.defer=w,w.prototype.makeNodeResolver=function(){var e=this;return function(t,r){t?e.reject(t):arguments.length>2?e.resolve(a(arguments,1)):e.resolve(r)}},S.Promise=N,S.promise=N,N.race=R,N.all=G,N.reject=F,N.resolve=S,S.passByCopy=function(e){return e},I.prototype.passByCopy=function(){return this},S.join=function(e,t){return S(e).join(t)},I.prototype.join=function(e){return S([this,e]).spread((function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)}))},S.race=R,I.prototype.race=function(){return this.then(S.race)},S.makePromise=I,I.prototype.toString=function(){return"[object Promise]"},I.prototype.then=function(e,t,r){var n=this,o=w(),i=!1;return S.nextTick((function(){n.promiseDispatch((function(t){i||(i=!0,o.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(e){return F(e)}}(t)))}),"when",[function(e){i||(i=!0,o.resolve(function(e){if("function"==typeof t){m(e,n);try{return t(e)}catch(e){return F(e)}}return F(e)}(e)))}])})),n.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=function(e){return"function"==typeof r?r(e):e}(e)}catch(e){if(n=!0,!S.onerror)throw e;S.onerror(e)}n||o.notify(t)}]),o.promise},S.tap=function(e,t){return S(e).tap(t)},I.prototype.tap=function(e){return e=S(e),this.then((function(t){return e.fcall(t).thenResolve(t)}))},S.when=O,I.prototype.thenResolve=function(e){return this.then((function(){return e}))},S.thenResolve=function(e,t){return S(e).thenResolve(t)},I.prototype.thenReject=function(e){return this.then((function(){throw e}))},S.thenReject=function(e,t){return S(e).thenReject(t)},S.nearer=P,S.isPromise=C,S.isPromiseAlike=k,S.isPending=function(e){return C(e)&&"pending"===e.inspect().state},I.prototype.isPending=function(){return"pending"===this.inspect().state},S.isFulfilled=function(e){return!C(e)||"fulfilled"===e.inspect().state},I.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},S.isRejected=function(e){return C(e)&&"rejected"===e.inspect().state},I.prototype.isRejected=function(){return"rejected"===this.inspect().state};var x,L,A,T=[],_=[],H=[],j=!0;function D(){T.length=0,_.length=0,j||(j=!0)}function F(e){var t=I({when:function(t){return t&&function(e){if(j){var t=l(_,e);-1!==t&&("object"==typeof process&&"function"==typeof process.emit&&S.nextTick.runAfter((function(){var r=l(H,e);-1!==r&&(process.emit("rejectionHandled",T[t],e),H.splice(r,1))})),_.splice(t,1),T.splice(t,1))}}(this),t?t(e):this}},(function(){return this}),(function(){return{state:"rejected",reason:e}}));return function(e,t){j&&("object"==typeof process&&"function"==typeof process.emit&&S.nextTick.runAfter((function(){-1!==l(_,e)&&(process.emit("unhandledRejection",t,e),H.push(e))})),_.push(e),t&&void 0!==t.stack?T.push(t.stack):T.push("(no stack) "+t))}(t,e),t}function M(e){return I({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},post:function(t,r){return null==t?e.apply(void 0,r):e[t].apply(e,r)},apply:function(t,r){return e.apply(t,r)},keys:function(){return d(e)}},void 0,(function(){return{state:"fulfilled",value:e}}))}function U(e,t,r){return S(e).spread(t,r)}function q(e,t,r){return S(e).dispatch(t,r)}function G(e){return O(e,(function(e){var t=0,r=w();return u(e,(function(n,o,i){var s;C(o)&&"fulfilled"===(s=o.inspect()).state?e[i]=s.value:(++t,O(o,(function(n){e[i]=n,0==--t&&r.resolve(e)}),r.reject,(function(e){r.notify({index:i,value:e})})))}),void 0),0===t&&r.resolve(e),r.promise}))}function W(e){if(0===e.length)return S.resolve();var t=S.defer(),r=0;return u(e,(function(n,o,i){var s=e[i];r++,O(s,(function(e){t.resolve(e)}),(function(){0===--r&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}),(function(e){t.notify({index:i,value:e})}))}),void 0),t.promise}function K(e){return O(e,(function(e){return e=f(e,S),O(G(f(e,(function(e){return O(e,n,n)}))),(function(){return e}))}))}S.resetUnhandledRejections=D,S.getUnhandledReasons=function(){return T.slice()},S.stopUnhandledRejectionTracking=function(){D(),j=!1},D(),S.reject=F,S.fulfill=M,S.master=function(e){return I({isDef:function(){}},(function(t,r){return q(e,t,r)}),(function(){return S(e).inspect()}))},S.spread=U,I.prototype.spread=function(e,t){return this.all().then((function(t){return e.apply(void 0,t)}),t)},S.async=function(e){return function(){function t(e,t){var i;if("undefined"==typeof StopIteration){try{i=r[e](t)}catch(e){return F(e)}return i.done?S(i.value):O(i.value,n,o)}try{i=r[e](t)}catch(e){return g(e)?S(e.value):F(e)}return O(i,n,o)}var r=e.apply(this,arguments),n=t.bind(t,"next"),o=t.bind(t,"throw");return n()}},S.spawn=function(e){S.done(S.async(e)())},S.return=function(e){throw new c(e)},S.promised=function(e){return function(){return U([this,G(arguments)],(function(t,r){return e.apply(t,r)}))}},S.dispatch=q,I.prototype.dispatch=function(e,t){var r=this,n=w();return S.nextTick((function(){r.promiseDispatch(n.resolve,e,t)})),n.promise},S.get=function(e,t){return S(e).dispatch("get",[t])},I.prototype.get=function(e){return this.dispatch("get",[e])},S.set=function(e,t,r){return S(e).dispatch("set",[t,r])},I.prototype.set=function(e,t){return this.dispatch("set",[e,t])},S.del=S.delete=function(e,t){return S(e).dispatch("delete",[t])},I.prototype.del=I.prototype.delete=function(e){return this.dispatch("delete",[e])},S.mapply=S.post=function(e,t,r){return S(e).dispatch("post",[t,r])},I.prototype.mapply=I.prototype.post=function(e,t){return this.dispatch("post",[e,t])},S.send=S.mcall=S.invoke=function(e,t){return S(e).dispatch("post",[t,a(arguments,2)])},I.prototype.send=I.prototype.mcall=I.prototype.invoke=function(e){return this.dispatch("post",[e,a(arguments,1)])},S.fapply=function(e,t){return S(e).dispatch("apply",[void 0,t])},I.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},S.try=S.fcall=function(e){return S(e).dispatch("apply",[void 0,a(arguments,1)])},I.prototype.fcall=function(){return this.dispatch("apply",[void 0,a(arguments)])},S.fbind=function(e){var t=S(e),r=a(arguments,1);return function(){return t.dispatch("apply",[this,r.concat(a(arguments))])}},I.prototype.fbind=function(){var e=this,t=a(arguments);return function(){return e.dispatch("apply",[this,t.concat(a(arguments))])}},S.keys=function(e){return S(e).dispatch("keys",[])},I.prototype.keys=function(){return this.dispatch("keys",[])},S.all=G,I.prototype.all=function(){return G(this)},S.any=W,I.prototype.any=function(){return W(this)},S.allResolved=(x=K,L="allResolved",A="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(L+" is deprecated, use "+A+" instead.",new Error("").stack),x.apply(x,arguments)}),I.prototype.allResolved=function(){return K(this)},S.allSettled=function(e){return S(e).allSettled()},I.prototype.allSettled=function(){return this.then((function(e){return G(f(e,(function(e){function t(){return e.inspect()}return(e=S(e)).then(t,t)})))}))},S.fail=S.catch=function(e,t){return S(e).then(void 0,t)},I.prototype.fail=I.prototype.catch=function(e){return this.then(void 0,e)},S.progress=function(e,t){return S(e).then(void 0,void 0,t)},I.prototype.progress=function(e){return this.then(void 0,void 0,e)},S.fin=S.finally=function(e,t){return S(e).finally(t)},I.prototype.fin=I.prototype.finally=function(e){return e=S(e),this.then((function(t){return e.fcall().then((function(){return t}))}),(function(t){return e.fcall().then((function(){throw t}))}))},S.done=function(e,t,r,n){return S(e).done(t,r,n)},I.prototype.done=function(e,t,r){var n=function(e){S.nextTick((function(){if(m(e,o),!S.onerror)throw e;S.onerror(e)}))},o=e||t||r?this.then(e,t,r):this;"object"==typeof process&&process&&process.domain&&(n=process.domain.bind(n)),o.then(void 0,n)},S.timeout=function(e,t,r){return S(e).timeout(t,r)},I.prototype.timeout=function(e,t){var r=w(),n=setTimeout((function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),r.reject(t)}),e);return this.then((function(e){clearTimeout(n),r.resolve(e)}),(function(e){clearTimeout(n),r.reject(e)}),r.notify),r.promise},S.delay=function(e,t){return void 0===t&&(t=e,e=void 0),S(e).delay(t)},I.prototype.delay=function(e){return this.then((function(t){var r=w();return setTimeout((function(){r.resolve(t)}),e),r.promise}))},S.nfapply=function(e,t){return S(e).nfapply(t)},I.prototype.nfapply=function(e){var t=w(),r=a(e);return r.push(t.makeNodeResolver()),this.fapply(r).fail(t.reject),t.promise},S.nfcall=function(e){var t=a(arguments,1);return S(e).nfapply(t)},I.prototype.nfcall=function(){var e=a(arguments),t=w();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},S.nfbind=S.denodeify=function(e){var t=a(arguments,1);return function(){var r=t.concat(a(arguments)),n=w();return r.push(n.makeNodeResolver()),S(e).fapply(r).fail(n.reject),n.promise}},I.prototype.nfbind=I.prototype.denodeify=function(){var e=a(arguments);return e.unshift(this),S.denodeify.apply(void 0,e)},S.nbind=function(e,t){var r=a(arguments,2);return function(){var n=r.concat(a(arguments)),o=w();function i(){return e.apply(t,arguments)}return n.push(o.makeNodeResolver()),S(i).fapply(n).fail(o.reject),o.promise}},I.prototype.nbind=function(){var e=a(arguments,0);return e.unshift(this),S.nbind.apply(void 0,e)},S.nmapply=S.npost=function(e,t,r){return S(e).npost(t,r)},I.prototype.nmapply=I.prototype.npost=function(e,t){var r=a(t||[]),n=w();return r.push(n.makeNodeResolver()),this.dispatch("post",[e,r]).fail(n.reject),n.promise},S.nsend=S.nmcall=S.ninvoke=function(e,t){var r=a(arguments,2),n=w();return r.push(n.makeNodeResolver()),S(e).dispatch("post",[t,r]).fail(n.reject),n.promise},I.prototype.nsend=I.prototype.nmcall=I.prototype.ninvoke=function(e){var t=a(arguments,1),r=w();return t.push(r.makeNodeResolver()),this.dispatch("post",[e,t]).fail(r.reject),r.promise},S.nodeify=function(e,t){return S(e).nodeify(t)},I.prototype.nodeify=function(e){if(!e)return this;this.then((function(t){S.nextTick((function(){e(null,t)}))}),(function(t){S.nextTick((function(){e(t)}))}))},S.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var B=b();return S}))},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";(function(e){var n=r(23),o=r(0),i=r(7),s=r(2),c=r(1),a=r(5),u=r(14),l=r(42),f=r(24).sha256,h=r(10),p=r(4),d=r(45),v=r(30);t.UniqueLogSessionKeyEnvVarName="ServiceHubLogSessionKey",c.longStackSupport=!0,t.setOsLocale=function(e){var t="en-US";process.env.ServiceHubCurrentOsLocale&&(t=process.env.ServiceHubCurrentOsLocale),e.forEach((function(e){e(t,!0)}))},t.registerForCrashReporting=function(t){var n=new d.ErrorHandlerNode({appRoot:e,packageInfo:r(31)(o.join(e,"package.json"))}),i=v.tmpNameSync({template:t+"-"+process.pid+"-XXXXXX",postfix:".log"});n.addReportingChannel(new d.FileReporter(I(),i+".log",!0))},function(e){e[e.Error=0]="Error",e[e.InvalidArgument=1]="InvalidArgument",e[e.InvalidOperation=2]="InvalidOperation",e[e.ConfigurationError=3]="ConfigurationError",e[e.ServiceModuleInfoNotFound=4]="ServiceModuleInfoNotFound",e[e.ServiceModuleInfoLoadError=5]="ServiceModuleInfoLoadError",e[e.ServiceModuleInfoInvalidPropertyError=6]="ServiceModuleInfoInvalidPropertyError",e[e.HubHostInfoLoadError=7]="HubHostInfoLoadError",e[e.JsonParseError=8]="JsonParseError",e[e.HostGroupsNotSupported=9]="HostGroupsNotSupported",e[e.ObjectDisposed=10]="ObjectDisposed"}(t.ErrorKind||(t.ErrorKind={}));var g=t.ErrorKind,m={},y=function(){function e(t,r){this.name="ServiceHubError",this.kind=t||g.Error,this.message=r,this.message||(e.initDefaultErrorMessages(),this.message=m[this.kind]||g[this.kind]),this.stack=(new Error).stack}return e.initDefaultErrorMessages=function(){e.areDefaultErrorMessagesInitialized||(m[g.ObjectDisposed]=p.LibraryResourceStrings.objectDisposed,e.areDefaultErrorMessagesInitialized=!0)},e}();t.ServiceHubError=y;var E=function(){function e(){}return e.HostInfoFolderName="host",e.HubHostScript="HubHost.js",e.PipeScheme="net.pipe://",e}();t.Constants=E;var b=function(){},S=function(){function e(){this.activeStreams=[],this.activeServers=[]}return e.prototype.startService=function(e,t){var r=this;if(!e)throw new y(g.InvalidArgument,p.LibraryResourceStrings.variablesAreNotDefined("options"));if(!e.logger)throw new y(g.InvalidArgument,p.LibraryResourceStrings.variableIsNotDefined("options.logger"));var o,i=new b;o=function(n){i.server.close(),r.activeStreams.push(n),t(n,e.logger)};var s=n.createServer(o);return i.server=s,this.activeServers.push(i),c.resolve(e.pipeName||h.default()).then((function(t){return R(t=C(t)).then((function(n){var o=E.PipeScheme+t;return e.logger.info(p.LibraryResourceStrings.startingServer(e.name,o,n)),i.url=o,e.onErrorCb&&i.server.on("error",e.onErrorCb),c.ninvoke(i.server,"once","close").done((function(){e.logger.info(p.LibraryResourceStrings.stoppedServer(e.name,o)),r.activeServers.splice(r.activeServers.indexOf(i),1)})),i.server.listen(n),o}))}))},e.prototype.cancelServiceRequest=function(e){for(var t=0;t<this.activeServers.length;t++)if(this.activeServers[t].url==e){this.activeServers[t].server.close();break}},e.prototype.stop=function(){var e=[];return this.activeServers.forEach((function(t){return e.push(c.ninvoke(t.server,"close"))})),c.all(e)},e}();t.serverManager=new S,t.getPipeName=function(e){if(!e)throw new y(g.InvalidArgument,p.LibraryResourceStrings.variableIsNotDefined("url"));if(0!==e.indexOf(E.PipeScheme))throw new y(g.InvalidArgument,p.LibraryResourceStrings.urlShouldStartWith(E.PipeScheme));var t=e.slice(E.PipeScheme.length).trim();if(!t)throw new y(g.InvalidArgument,p.LibraryResourceStrings.urlHasNoPipeName(E.PipeScheme));return t};function w(e){return c.resolve(o.join(k(),e))}t.getUnixSocketDir=w;var N=!1;function R(e){if(!e)throw new Error(p.LibraryResourceStrings.variableIsNotDefined("pipeName"));if(0===e.indexOf(E.PipeScheme)&&!(e=e.slice(E.PipeScheme.length).trim()))throw new y(g.InvalidArgument,p.LibraryResourceStrings.noPipeName(E.PipeScheme));if("win32"===i.platform())return c.resolve(o.join("\\\\?\\pipe",e));var r=P();return r||(r=e),w(r).then((function(r){var n=o.join(r,e);if(N)return c.resolve(n);var i=c.defer();return s.exists(r,(function(e){return i.resolve(e)})),i.promise.then((function(e){return e?(N=!0,n):c.nfcall(u,r,t.unixOwnerOnlyAccessMode).then((function(){return N=!0,n})).catch((function(e){if(e.code!==a.EEXIST.code)throw e;return N=!0,n}))}))}))}function I(){return"win32"==process.platform?o.join(i.tmpdir(),"servicehub","logs"):o.join(k(),"logs")}t.unixOwnerOnlyAccessMode=parseInt("0700",8),t.getServerPipePath=R,t.deleteUnixSocketDir=function(e){if("win32"===process.platform)return c.resolve({});var t=P();return t||(t=e),w(e).then((function(e){var t=c.defer();return s.access(e,(function(e){return t.resolve(!e)})),t.promise.then((function(t){if(t)return N=!1,c.nfcall(l,e)}))}))},t.getPropertyNoCase=function(e,t){if(!e||!t)return null;if(e.hasOwnProperty(t))return e[t];for(var r in t=t.toLowerCase(),e)if(e.hasOwnProperty(r)&&r.toLowerCase()===t)return e[r]},t.getPropertiesArray=function(e){var t=[];if(null!==e&&"object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},t.getLogSessionKey=function(){var e=process.env[t.UniqueLogSessionKeyEnvVarName];return e||(e=f(process.cwd().toLowerCase()+process.pid).toLowerCase().substring(0,8),process.env[t.UniqueLogSessionKeyEnvVarName]=e),e},t.getLogFilesDir=I;var O;function P(){return process.env.ServiceHubLocationServicePipeName}function C(e){return"win32"===process.platform||e.length<=t.maxPipeNameLength?e:e.substring(0,t.maxPipeNameLength)}function k(){return O||(O=o.join(r(52),".ServiceHub")),O}t.getLocationServicePipeName=P,t.setLocationServicePipeName=function(e){process.env.ServiceHubLocationServicePipeName=e||""},t.maxPipeNameLength=10,t.formatPipeName=C,t.parseFileAsJson=function(e,t){if(!e)throw new y(g.InvalidArgument,p.LibraryResourceStrings.variableIsNotDefined("filePath"));return t=t||"utf8",c.ninvoke(s,"readFile",e,t).then((function(t){try{return JSON.parse(t.replace(/^\uFEFF/,""))}catch(t){throw new y(g.JsonParseError,p.LibraryResourceStrings.errorParsingJson(e,t.message))}}))}}).call(this,"/")},function(e,t,r){"use strict";(function(e){var n=r(3),o=r(43),i=r(0),s=i.join(e,"libraryResourceStrings.js"),c=o.config({locale:"en",cacheLanguageResolution:!1})(s),a=function(){function t(){}return t.init=function(){t.isOsLocaleSet||(n.setOsLocale([t.config]),t.isOsLocaleSet=!0)},t.config=function(t,r){void 0===r&&(r=!1);var n=i.join(e,"libraryResourceStrings.js");c=o.config({locale:t,cacheLanguageResolution:r})(n)},t.variablesAreNotDefined=function(e){return t.init(),c(0,null,e)},t.variableIsNotDefined=function(e){return t.init(),c(1,null,e)},t.startingServer=function(e,r,n){return t.init(),c(2,null,e,r,n)},t.stoppedServer=function(e,r){return t.init(),c(3,null,e,r)},t.urlShouldStartWith=function(e){return t.init(),c(4,null,e)},t.urlHasNoPipeName=function(e){return t.init(),c(5,null,e)},t.noPipeName=function(e){return t.init(),c(6,null,e)},t.errorParsingJson=function(e,r){return t.init(),c(7,null,e,r)},t.serviceHubConfigJsonNotFound=function(e,r){return t.init(),c(8,null,e,r)},t.loading=function(e){return t.init(),c(9,null,e)},t.noValueForProperty=function(e,r,n){return t.init(),c(10,null,e,r,n)},Object.defineProperty(t,"failedGetSaltString",{get:function(){return t.init(),c(11,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"noLocalAppDataFolder",{get:function(){return t.init(),c(12,null)},enumerable:!0,configurable:!0}),t.multipleFileFound=function(e,r){return t.init(),c(13,null,e,r)},t.startingHubHost=function(e,r){return t.init(),c(14,null,e,r)},t.startServiceRequestRejected=function(e){return t.init(),c(15,null,e)},t.startServiceRequestReceived=function(e){return t.init(),c(16,null,e)},t.serviceStarted=function(e,r,n){return t.init(),c(17,null,e,r,n)},Object.defineProperty(t,"ignoringDuplicateExit",{get:function(){return t.init(),c(18,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"exitCommandReceived",{get:function(){return t.init(),c(19,null)},enumerable:!0,configurable:!0}),t.closeHubStreamFailed=function(e){return t.init(),c(20,null,e)},t.serviceStartedAfterHostShutDown=function(e){return t.init(),c(21,null,e)},t.notifyHubControllerForServicesStartedFailed=function(e){return t.init(),c(22,null,e)},t.notifyHubControllerForServicesEndedFailed=function(e){return t.init(),c(23,null,e)},Object.defineProperty(t,"serviceNameNotSpecified",{get:function(){return t.init(),c(24,null)},enumerable:!0,configurable:!0}),t.locatingService=function(e,r){return t.init(),c(25,null,e,r)},t.serviceLocated=function(e,r,n){return t.init(),c(26,null,e,r,n)},t.startingServiceFailed=function(e,r,n){return t.init(),c(27,null,e,r,n)},Object.defineProperty(t,"forceControllerShutDown",{get:function(){return t.init(),c(28,null)},enumerable:!0,configurable:!0}),t.locatingServcieError=function(e,r,n,o){return t.init(),c(29,null,e,r,n,o)},t.disconnectingDiscoveryServiceFailed=function(e,r,n){return t.init(),c(30,null,e,r,n)},t.hostTypeNotFoundInLocation=function(e,r,n){return t.init(),c(31,null,e,r,n)},t.hostTypeNotFound=function(e,r){return t.init(),c(32,null,e,r)},t.loadingHostInfo=function(e,r){return t.init(),c(33,null,e,r)},t.cannotResolveHost=function(e,r,n){return t.init(),c(34,null,e,r,n)},t.hostInfoNotDefined=function(e){return t.init(),c(35,null,e)},t.hostInfoInvalid=function(e){return t.init(),c(36,null,e)},t.hostInfoContainsReservedProperty=function(e){return t.init(),c(37,null,e)},t.firstTimeLoadingService=function(e){return t.init(),c(38,null,e)},t.launchingHostWithCmd=function(e,r){return t.init(),c(39,null,e,r)},t.hostLaunched=function(e,r){return t.init(),c(40,null,e,r)},t.hostExited=function(e,r){return t.init(),c(41,null,e,r)},t.hostExitedWithCode=function(e,r){return t.init(),c(42,null,e,r)},t.hostExitedWithSignal=function(e){return t.init(),c(43,null,e)},t.startingHostError=function(e,r,n){return t.init(),c(44,null,e,r,n)},t.hostInfoNotFound=function(e){return t.init(),c(45,null,e)},t.getHostIdFailed=function(e){return t.init(),c(46,null,e)},Object.defineProperty(t,"moreThanOneHostPending",{get:function(){return t.init(),c(47,null)},enumerable:!0,configurable:!0}),t.unknownHost=function(e){return t.init(),c(48,null,e)},t.stoppingHost=function(e,r,n){return t.init(),c(49,null,e,r,n)},Object.defineProperty(t,"cannotStopLocationService",{get:function(){return t.init(),c(50,null)},enumerable:!0,configurable:!0}),t.errorDecoding=function(e){return t.init(),c(51,null,e)},t.logConfig=function(e){return t.init(),c(52,null,e)},Object.defineProperty(t,"messageAt",{get:function(){return t.init(),c(53,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"lengthCannotBeNegative",{get:function(){return t.init(),c(54,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"noFolderSpecified",{get:function(){return t.init(),c(55,null)},enumerable:!0,configurable:!0}),t.cannotFindServiceModuleFile=function(e,r){return t.init(),c(56,null,e,r)},t.cannotFindServiceModuleFileWithReason=function(e,r,n){return t.init(),c(57,null,e,r,n)},t.loadingServiceModule=function(e,r){return t.init(),c(58,null,e,r)},t.serviceInfoInvalid=function(e,r,n){return t.init(),c(59,null,e,r,n)},t.serviceInfoInvalidSpaceInHostId=function(e,r,n){return t.init(),c(60,null,e,r,n)},t.cannotResolveServiceModuleInfo=function(e,r,n){return t.init(),c(61,null,r,e,n)},t.startingService=function(e){return t.init(),c(62,null,e)},t.variableMustBeFunction=function(e,r,n){return t.init(),c(63,null,e,r,n)},t.serviceEntryPointFileNameNotFound=function(e){return t.init(),c(64,null,e)},t.serviceEntryPointConstructorNotFound=function(e){return t.init(),c(65,null,e)},t.loadServiceModuleError=function(e,r){return t.init(),c(66,null,e,r)},t.connectedToService=function(e){return t.init(),c(67,null,e)},t.disposeServiceError=function(e,r,n){return t.init(),c(68,null,e,r,n)},t.createServiceInstanceError=function(e,r){return t.init(),c(69,null,e,r)},t.failedToDeleteFile=function(e,r,n){return t.init(),c(70,null,e,r,n)},t.failedToGetFileStats=function(e,r,n){return t.init(),c(71,null,e,r,n)},t.failedToEnumerateFilesInDir=function(e,r,n){return t.init(),c(72,null,e,r,n)},t.serviceHubConfigFilePathIsNotAbsolute=function(e){return t.init(),c(73,null,e)},t.serviceHubConfigFileNameIsIncorrect=function(e){return t.init(),c(74,null,e)},t.serviceHubConfigFileDoesNotExist=function(e){return t.init(),c(75,null,e)},t.HostGroupNotSupported=function(e,r,n){return t.init(),c(76,null,e,r,n)},Object.defineProperty(t,"objectDisposed",{get:function(){return t.init(),c(77,null)},enumerable:!0,configurable:!0}),t.couldNotKillHost=function(e,r){return t.init(),c(78,null,r)},t}();t.LibraryResourceStrings=a}).call(this,"/")},function(e,t,r){"use strict";var n={UNKNOWN:{errno:-1,code:"UNKNOWN",description:"unknown error"},OK:{errno:0,code:"OK",description:"success"},EOF:{errno:1,code:"EOF",description:"end of file"},EADDRINFO:{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},EACCES:{errno:3,code:"EACCES",description:"permission denied"},EAGAIN:{errno:4,code:"EAGAIN",description:"no more processes"},EADDRINUSE:{errno:5,code:"EADDRINUSE",description:"address already in use"},EADDRNOTAVAIL:{errno:6,code:"EADDRNOTAVAIL",description:""},EAFNOSUPPORT:{errno:7,code:"EAFNOSUPPORT",description:""},EALREADY:{errno:8,code:"EALREADY",description:""},EBADF:{errno:9,code:"EBADF",description:"bad file descriptor"},EBUSY:{errno:10,code:"EBUSY",description:"resource busy or locked"},ECONNABORTED:{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},ECONNREFUSED:{errno:12,code:"ECONNREFUSED",description:"connection refused"},ECONNRESET:{errno:13,code:"ECONNRESET",description:"connection reset by peer"},EDESTADDRREQ:{errno:14,code:"EDESTADDRREQ",description:"destination address required"},EFAULT:{errno:15,code:"EFAULT",description:"bad address in system call argument"},EHOSTUNREACH:{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},EINTR:{errno:17,code:"EINTR",description:"interrupted system call"},EINVAL:{errno:18,code:"EINVAL",description:"invalid argument"},EISCONN:{errno:19,code:"EISCONN",description:"socket is already connected"},EMFILE:{errno:20,code:"EMFILE",description:"too many open files"},EMSGSIZE:{errno:21,code:"EMSGSIZE",description:"message too long"},ENETDOWN:{errno:22,code:"ENETDOWN",description:"network is down"},ENETUNREACH:{errno:23,code:"ENETUNREACH",description:"network is unreachable"},ENFILE:{errno:24,code:"ENFILE",description:"file table overflow"},ENOBUFS:{errno:25,code:"ENOBUFS",description:"no buffer space available"},ENOMEM:{errno:26,code:"ENOMEM",description:"not enough memory"},ENOTDIR:{errno:27,code:"ENOTDIR",description:"not a directory"},EISDIR:{errno:28,code:"EISDIR",description:"illegal operation on a directory"},ENONET:{errno:29,code:"ENONET",description:"machine is not on the network"},ENOTCONN:{errno:31,code:"ENOTCONN",description:"socket is not connected"},ENOTSOCK:{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},ENOTSUP:{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},ENOENT:{errno:34,code:"ENOENT",description:"no such file or directory"},ENOSYS:{errno:35,code:"ENOSYS",description:"function not implemented"},EPIPE:{errno:36,code:"EPIPE",description:"broken pipe"},EPROTO:{errno:37,code:"EPROTO",description:"protocol error"},EPROTONOSUPPORT:{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},EPROTOTYPE:{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},ETIMEDOUT:{errno:40,code:"ETIMEDOUT",description:"connection timed out"},ECHARSET:{errno:41,code:"ECHARSET",description:""},EAIFAMNOSUPPORT:{errno:42,code:"EAIFAMNOSUPPORT",description:""},EAISERVICE:{errno:44,code:"EAISERVICE",description:""},EAISOCKTYPE:{errno:45,code:"EAISOCKTYPE",description:""},ESHUTDOWN:{errno:46,code:"ESHUTDOWN",description:""},EEXIST:{errno:47,code:"EEXIST",description:"file already exists"},ESRCH:{errno:48,code:"ESRCH",description:"no such process"},ENAMETOOLONG:{errno:49,code:"ENAMETOOLONG",description:"name too long"},EPERM:{errno:50,code:"EPERM",description:"operation not permitted"},ELOOP:{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},EXDEV:{errno:52,code:"EXDEV",description:"cross-device link not permitted"},ENOTEMPTY:{errno:53,code:"ENOTEMPTY",description:"directory not empty"},ENOSPC:{errno:54,code:"ENOSPC",description:"no space left on device"},EIO:{errno:55,code:"EIO",description:"i/o error"},EROFS:{errno:56,code:"EROFS",description:"read-only file system"},ENODEV:{errno:57,code:"ENODEV",description:"no such device"},ESPIPE:{errno:58,code:"ESPIPE",description:"invalid seek"},ECANCELED:{errno:59,code:"ECANCELED",description:"operation canceled"}},o={"-1":"UNKNOWN",0:"OK",1:"EOF",2:"EADDRINFO",3:"EACCES",4:"EAGAIN",5:"EADDRINUSE",6:"EADDRNOTAVAIL",7:"EAFNOSUPPORT",8:"EALREADY",9:"EBADF",10:"EBUSY",11:"ECONNABORTED",12:"ECONNREFUSED",13:"ECONNRESET",14:"EDESTADDRREQ",15:"EFAULT",16:"EHOSTUNREACH",17:"EINTR",18:"EINVAL",19:"EISCONN",20:"EMFILE",21:"EMSGSIZE",22:"ENETDOWN",23:"ENETUNREACH",24:"ENFILE",25:"ENOBUFS",26:"ENOMEM",27:"ENOTDIR",28:"EISDIR",29:"ENONET",31:"ENOTCONN",32:"ENOTSOCK",33:"ENOTSUP",34:"ENOENT",35:"ENOSYS",36:"EPIPE",37:"EPROTO",38:"EPROTONOSUPPORT",39:"EPROTOTYPE",40:"ETIMEDOUT",41:"ECHARSET",42:"EAIFAMNOSUPPORT",44:"EAISERVICE",45:"EAISOCKTYPE",46:"ESHUTDOWN",47:"EEXIST",48:"ESRCH",49:"ENAMETOOLONG",50:"EPERM",51:"ELOOP",52:"EXDEV",53:"ENOTEMPTY",54:"ENOSPC",55:"EIO",56:"EROFS",57:"ENODEV",58:"ESPIPE",59:"ECANCELED"},i=100;n.create=function(e,t,r){var i={errno:e,code:t,description:r};n[t]=i,o[e]=t},n.get=function(e,t){var r,i=typeof e;r="number"===i?n[o[e]]:"string"===i?n[e]:e;var s=new Error(r.code);s.errno=r.errno,s.code=r.code;var c=r.description;if(t)for(var a in t)c=c.replace(new RegExp("\\{"+a+"\\}","g"),t[a]);return s.description=c,s},n.getNextAvailableErrno=function(){var e=i;return i++,e},e.exports=n},function(e,t,r){"use strict";var n=r(2),o=r(0),i=r(7),s=r(9),c=r(3),a=r(14),u=r(5),l=r(30),f=r(15),h=r(4);!function(e){e[e.Critical=1]="Critical",e[e.Error=2]="Error",e[e.Warning=4]="Warning",e[e.Information=8]="Information",e[e.Verbose=16]="Verbose"}(t.LogLevel||(t.LogLevel={}));var p,d=t.LogLevel;function v(e){return e.pid?" PID "+e.pid:""}t.logFileDirectory=c.getLogFilesDir(),t.traceProcessOutput=function(e,t,r){if(!e)throw new c.ServiceHubError(c.ErrorKind.InvalidArgument,"logger is not defined");if(!t)throw new c.ServiceHubError(c.ErrorKind.InvalidArgument,"process is not defined");if(!r)throw new c.ServiceHubError(c.ErrorKind.InvalidArgument,"processName is not defined");t.once("exit",(function(n,o){var i="";"number"==typeof n&&(i=" with code "+n,f.default[n]&&(i+=" ("+f.default[n]+")")),o&&(i+=" with signal '"+o+"''"),e.info(""+r+v(t)+" exited"+i+".")})),t.once("error",(function(n){e.error(""+r+v(t)+" error "+n.message+".")})),t.stderr.on("data",(function(n){e.error(""+r+v(t)+" stderr: "+n.toString())})),e.isEnabled(d.Verbose)&&t.stdout.on("data",(function(n){e.verbose(""+r+v(t)+" stdout: "+n.toString())}))},function(e){e[e.All=-1]="All",e[e.Off=0]="Off",e[e.Critical=d.Critical]="Critical",e[e.Error=3]="Error",e[e.Warning=7]="Warning",e[e.Information=15]="Information",e[e.Verbose=31]="Verbose"}(p||(p={})),t.SourceLevelEnvironmentVariable="SERVICEHUBTRACELEVEL",t.cleanUpOldLogs=function(e,r){return setTimeout((function(){n.exists(t.logFileDirectory,(function(e){if(e){var i=new g("oldLogsCleaner");n.readdir(t.logFileDirectory,(function(e,s){if(e)i.error(h.LibraryResourceStrings.failedToEnumerateFilesInDir(t.logFileDirectory,e.code,e.message));else for(var c=0;c<s.length;c++)!function(e){n.stat(e,(function(t,o){t?i.error(h.LibraryResourceStrings.failedToGetFileStats(e,t.code,t.message)):o.ctime.getTime()<r.getTime()&&n.unlink(e,(function(t){t&&i.error(h.LibraryResourceStrings.failedToDeleteFile(e,t.code,t.message))}))}))}(o.join(t.logFileDirectory,s[c]))}))}}))}),e)};var g=function(){function e(e,r){if(this.maxFileSizeInBytes=512e3,this.nextLogFileNumber=1,this.currentFileSizeInBytes=0,this.encoding="utf8",!e)throw new Error(h.LibraryResourceStrings.variableIsNotDefined("LogFilePrefix"));r=r||{},this.defaultLevel=r.defaultLevel||d.Verbose;var n=r.logSourceLevel||process.env[t.SourceLevelEnvironmentVariable];if(this.sourceLevels=parseInt(n),isNaN(this.sourceLevels)){var i=c.getPropertyNoCase(p,n);this.sourceLevels="number"==typeof i?i:p.Error}var s=r.logFileDirectory||t.logFileDirectory;this.logFilePath=o.join(s,l.tmpNameSync({template:e+"-"+process.pid+"-XXXXXX",postfix:".log"})+".log"),this.logFilePrefix=l.tmpNameSync({template:e+"-"+process.pid+"-XXXXXX",postfix:".log"}),this.logFilePath=this.getLogFilePath(),this.rollingEnabled=!this.isEnabled(d.Verbose)}return e.prototype.critical=function(e){this.LogInternal(d.Critical,e)},e.prototype.error=function(e){this.LogInternal(d.Error,e)},e.prototype.warn=function(e){this.LogInternal(d.Warning,e)},e.prototype.info=function(e){this.LogInternal(d.Information,e)},e.prototype.verbose=function(e){this.LogInternal(d.Verbose,e)},e.prototype.log=function(e){this.LogInternal(this.defaultLevel,e)},e.prototype.isEnabled=function(e){return 0!=(this.sourceLevels&e)},e.prototype.LogInternal=function(e,t){try{this.isEnabled(e)&&(this.started||(this.started=!0,this.startLogging()),this.logMessage(e,t))}catch(e){}},e.prototype.startLogging=function(){var e=o.dirname(this.logFilePath);if(!n.existsSync(e))try{a.sync(e,c.unixOwnerOnlyAccessMode)}catch(e){if(e.code!==u.EEXIST.code)throw e}this.logMessage(d.Information,h.LibraryResourceStrings.logConfig("$"+t.SourceLevelEnvironmentVariable+'="'+(process.env[t.SourceLevelEnvironmentVariable]||"")+'"')),this.currentFileSizeInBytes=0},e.prototype.logMessage=function(e,r){if(r){var o;"string"==typeof r?o=r:r.message?(o=r,r.stack&&(o+=i.EOL+h.LibraryResourceStrings.messageAt+""+i.EOL+r.stack)):o=s.inspect(r);var c=m(o,e),a=new Buffer(o,this.encoding);this.rollingEnabled&&this.currentFileSizeInBytes>0&&this.currentFileSizeInBytes+a.length>this.maxFileSizeInBytes&&(this.lastLogFilePath&&n.unlink(this.lastLogFilePath,(function(e){})),this.lastLogFilePath=this.logFilePath,this.logFilePath=this.getLogFilePath(),n.appendFileSync(this.logFilePath,m(h.LibraryResourceStrings.logConfig("$"+t.SourceLevelEnvironmentVariable+'="'+(process.env[t.SourceLevelEnvironmentVariable]||"")+'"'),d.Information),{encoding:this.encoding}),this.currentFileSizeInBytes=0),n.appendFileSync(this.logFilePath,c,{encoding:this.encoding}),this.currentFileSizeInBytes+=a.length}},e.prototype.getLogFilePath=function(){var e=c.getLogSessionKey();return o.join(t.logFileDirectory,e+"-"+this.logFilePrefix+"-"+process.pid+"-"+this.nextLogFileNumber+++".log")},e}();function m(e,t){return y((r=new Date).getMonth()+1)+"/"+y(r.getDate())+"/"+r.getFullYear()+" "+(y((n=r).getHours())+":"+y(n.getMinutes())+":"+y(n.getSeconds())+" : ")+d[t]+" : "+e+i.EOL;var r,n}function y(e){return(e<10?"0":"")+e}t.Logger=g},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}n(r(47)),n(r(48)),n(r(49));var o=r(28);t.ReportingChannel=o.ReportingChannel,n(r(26))},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";var n=r(25),o=r(1),i=r(4);function s(e){for(var t=(4503599627370496*(1+Math.random())).toString(16);t.length<e;)t=""+t+(4503599627370496*(1+Math.random())).toString(16);return t.substr(0,e)}t.defaultRandomHexStringLength=32,Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,r){if(e<0)throw new Error(i.LibraryResourceStrings.lengthCannotBeNegative);return e=e||t.defaultRandomHexStringLength,r?o.nfcall(n.randomBytes,Math.round(e/2)).then((function(t){return t.toString("hex").substr(0,e)})):o.resolve(s(e))},t.randomHexStringSync=function(e,r){if(e<0)throw new Error(i.LibraryResourceStrings.lengthCannotBeNegative);return e=e||t.defaultRandomHexStringLength,r?n.randomBytes(Math.round(e/2)).toString("hex").substr(0,e):s(e)}},function(e,t,r){"use strict";var n=r(17);t.Trace=n.Trace,t.CancellationToken=n.CancellationToken,t.CancellationTokenSource=n.CancellationTokenSource;var o=r(17),i=r(1),s=r(1),c=r(6),a=r(5),u=function(){function e(e,t){this.stream=e,this.logger=t,this.requests={},this.requestCount=0,this.connection=o.createClientMessageConnection(e,e,t),this.onClose=this.connection.onClose,this.connection.onClose(this.onConnectionClosed,this),this.onError=this.connection.onError,t&&t.isEnabled(c.LogLevel.Verbose)&&this.connection.trace(n.Trace.Verbose,t)}return e.attach=function(t,r,n,o){var i=new e(t,r);return n&&i.onRequestInvokeTarget.apply(i,[n].concat(o)),i.listen(),i},e.prototype.listen=function(){this.throwIfClosed(),this.throwIfListening(),this.connection.listen(),this.listening=!0},e.prototype.sendRequest=function(t,r,n){var o=this;if(this.throwIfNotListening(),this.closed)return i.reject(e.createStreamClosedError(t));var c=s.defer(),a=this.requestCount++;return this.requests[a]={method:t,deferred:c},this.connection.sendRequest({method:t},r,n).then((function(e){c.resolve(e),delete o.requests[a]}),(function(e){c.reject(e),delete o.requests[a]})),c.promise},e.prototype.sendNotification=function(t,r){return this.closed?i.reject(e.createStreamClosedError(t)):(this.connection.sendNotification({method:t},r),i(void 0))},e.prototype.onRequest=function(e,t){this.throwIfListening(),this.throwIfClosed(),this.connection.onRequest({method:e},(function(e,r){return t.apply(void 0,(e||[]).concat([r]))})),this.connection.onNotification({method:e},(function(e){return t.apply(void 0,e)}))},e.prototype.onRequestInvokeTarget=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.throwIfListening(),this.throwIfClosed(),r&&0!==r.length||(r=l(e)),r.forEach((function(r){var n=e[r];if(!n)throw new Error("Method not found "+r+".");t.onRequest(r,n.bind(e))}))},e.prototype.dispose=function(){this.stream.end(),this.connection.dispose()},e.prototype.cancelPendingRequests=function(t){for(var r in this.requests)if(this.requests.hasOwnProperty(r)){var n=this.requests[r];n.deferred.reject(t||e.createStreamClosedError(n.method))}this.requests={}},e.prototype.throwIfNotListening=function(){if(!this.listening)throw new Error("Call listen() first.")},e.prototype.throwIfListening=function(){if(this.listening)throw new Error("listen() has already been called.")},e.prototype.throwIfClosed=function(t){if(this.closed)throw e.createStreamClosedError(t)},e.prototype.onConnectionClosed=function(){this.closed=!0,this.cancelPendingRequests()},e.createStreamClosedError=function(e){var t=new Error((e?"Cannot execute '"+e+"'. ":"")+"The underlying stream has closed.");return t.code=a.ENOENT.code,t},e}();function l(e){var t=[];for(var r in e){"function"==typeof e[r]&&t.push(r)}return t}t.JsonRpcConnection=u},function(e,t,r){"use strict";var n=Object.prototype.toString;function o(e){return"[object String]"===n.call(e)}function i(e){return Array.isArray(e)}t.defined=function(e){return void 0!==e},t.undefined=function(e){return void 0===e},t.nil=function(e){return null===e},t.boolean=function(e){return!0===e||!1===e},t.string=o,t.number=function(e){return"[object Number]"===n.call(e)},t.error=function(e){return"[object Error]"===n.call(e)},t.func=function(e){return"[object Function]"===n.call(e)},t.array=i,t.stringArray=function(e){return i(e)&&e.every((function(e){return o(e)}))}},function(e,t,r){"use strict";!function(e){var t={dispose:function(){}};e.None=function(){return t}}(t.Event||(t.Event={}));!function(){function e(e){this._callOnDispose=e}e.from=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];return new e((function(){if(t){for(var e=0;e<t.length;e++){t[e].dispose()}t=void 0}}))},e.prototype.dispose=function(){"function"==typeof this._callOnDispose&&(this._callOnDispose(),this._callOnDispose=void 0)}}();var n=function(){function e(){}return e.prototype.add=function(e,t,r){var n=this;void 0===t&&(t=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:function(){return n.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=null),this._callbacks){for(var r=!1,n=0,o=this._callbacks.length;n<o;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(this._callbacks){for(var r=[],n=this._callbacks.slice(0),o=this._contexts.slice(0),i=0,s=n.length;i<s;i++)try{r.push(n[i].apply(o[i],e))}catch(e){console.error(e)}return r}},e.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},e.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},e}(),o=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(r,o,i){var s;return t._callbacks||(t._callbacks=new n),t._options&&t._options.onFirstListenerAdd&&t._callbacks.isEmpty()&&t._options.onFirstListenerAdd(t),t._callbacks.add(r,o),s={dispose:function(){t._callbacks.remove(r,o),s.dispose=e._noop,t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t)}},Array.isArray(i)&&i.push(s),s}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)},e.prototype.dispose=function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)},e._noop=function(){},e}();t.Emitter=o},function(e,t,r){"use strict";var n=r(2),o=r(0);function i(e,t,r){if("string"!=typeof e)throw new Error("mkdirParents: directory path required");if("function"==typeof t&&(r=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error("mkdirParents: mode must be a number");if(void 0!==r&&"function"!=typeof r)throw new Error("mkdirParents: callback must be function");e=o.resolve(e);var i,s,c=this,a=[];function u(r){return r&&"EEXIST"!==r.code?l(r):(e=a.pop())?n.mkdir(e,t,u):l(null)}function l(e){e&&"EEXIST"===e.code&&(e=arguments[0]=null),s||(s=arguments),r&&!i&&(i=!0,r.apply(c,s))}return n.exists(e,(function t(r){if(r)return u(null);return a.push(e),e=o.resolve(e,".."),n.exists(e,t)})),function(e){r||(r=e),s&&!i&&(i=!0,r.apply(c,s))}}function s(e,t){if("string"!=typeof e)throw new Error("mkdirParentsSync: directory path required");if(void 0!==t&&"number"!=typeof t)throw new Error("mkdirParents: mode must be a number");e=o.resolve(e);for(var r=[];!n.existsSync(e);)r.push(e),e=o.resolve(e,"..");for(;e=r.pop();)try{n.mkdirSync(e,t)}catch(e){if(e&&"EEXIST"!==e.code)throw e}}(t=e.exports=i).mkdirParents=i,t.mkdirParentsSync=s,t.sync=s},function(e,t,r){"use strict";var n;!function(e){e[e.Success=0]="Success",e[e.NodeUncaughtFatalException=1]="NodeUncaughtFatalException",e[e.NodeInternalJavaScriptParseError=3]="NodeInternalJavaScriptParseError",e[e.NodeInternalJavaScriptEvaluationFailure=4]="NodeInternalJavaScriptEvaluationFailure",e[e.NodeFatalError=5]="NodeFatalError",e[e.NodeNonFunctionInternalExceptionHandler=6]="NodeNonFunctionInternalExceptionHandler",e[e.NodeInternalExceptionHandlerRunTimeFailure=7]="NodeInternalExceptionHandlerRunTimeFailure",e[e.NodeInvalidArgument=9]="NodeInvalidArgument",e[e.NodeInternalJavaScriptRunTimeFailure=10]="NodeInternalJavaScriptRunTimeFailure",e[e.NodeInvalidDebugArgument=12]="NodeInvalidDebugArgument",e[e.InvalidArgument=20]="InvalidArgument",e[e.ErrorStartingServerPipeInUse=21]="ErrorStartingServerPipeInUse",e[e.ErrorStartingServer=22]="ErrorStartingServer",e[e.UncaughtException=23]="UncaughtException",e[e.ShutdownError=24]="ShutdownError",e[e.ConfigurationError=25]="ConfigurationError",e[e.SigHup=129]="SigHup",e[e.SigInt=130]="SigInt",e[e.SigKill=137]="SigKill",e[e.SigTerm=143]="SigTerm",e[e.SigBreak=149]="SigBreak"}(n||(n={})),Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";var n=r(23),o=r(1),i=r(3),s=r(4),c=r(5);function a(e){var t=o.defer(),r=n.connect(e);return r.once("connect",(function(){t.resolve(r)})),r.once("error",(function(e){t.reject(e)})),t.promise}t.connectWithRetries=function(e){if(!e)throw new i.ServiceHubError(i.ErrorKind.InvalidArgument,s.LibraryResourceStrings.variablesAreNotDefined("options"));if(!e.url)throw new i.ServiceHubError(i.ErrorKind.InvalidArgument,s.LibraryResourceStrings.variablesAreNotDefined("options.url"));var t=(new Date).getTime()+(e.timeoutMs||5e3),r=e.retryIntervalMs||100;return i.getServerPipePath(e.url).then((function(n){return function e(t,r,n,i){return a(t).catch((function(s){var a=s&&(s.code===c.ENOENT.code||s.code===c.ECONNREFUSED.code),u=!i||!i.isCancellationRequested;if(a&&u&&(new Date).getTime()<r)return o.delay(n).then((function(){return e(t,r,n,i)}));throw s}))}(n,t,r,e.cancellationToken)}))},t.connect=function(e){if(!e)throw new i.ServiceHubError(i.ErrorKind.InvalidArgument,s.LibraryResourceStrings.variablesAreNotDefined("url"));return i.getServerPipePath(e).then((function(e){return a(e)}))}},function(e,t,r){"use strict";var n=r(12),o=r(55);t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes;var i=r(56);t.StreamMessageReader=i.StreamMessageReader,t.IPCMessageReader=i.IPCMessageReader;var s=r(57);t.StreamMessageWriter=s.StreamMessageWriter,t.IPCMessageWriter=s.IPCMessageWriter;var c=r(13);t.Event=c.Event,t.Emitter=c.Emitter;var a,u=r(58);t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken,function(e){e.type={get method(){return"$/cancelRequest"}}}(a||(a={})),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(t.Trace||(t.Trace={}));var l,f=t.Trace;function h(e,t,r,i){void 0===i&&(i=!1);var s,h=0,p=Object.create(null),d=Object.create(null),v=Object.create(null),g=Object.create(null),m=f.Off,y=l.Active,E=new c.Emitter,b=new c.Emitter;function S(){y!==l.Closed&&(y=l.Closed,b.fire(void 0))}function w(e){var t=String(e.id),o=v[t];if(m!=f.Off&&s&&function(e,t){if(t){var r=e.error?" Request failed: "+e.error.message+" ("+e.error.code+").":"";s.log("["+(new Date).toLocaleTimeString()+"] Recevied response '"+t.method+" - ("+e.id+")' in "+(Date.now()-t.timerStart)+"ms."+r)}else s.log("["+(new Date).toLocaleTimeString()+"] Recevied response "+e.id+" without active response promise.");m===f.Verbose&&(e.error&&e.error.data?s.log("Error data: "+JSON.stringify(e.error.data,null,4)+"\n\n"):e.result?s.log("Result: "+JSON.stringify(e.result,null,4)+"\n\n"):s.log("No result returned.\n\n"))}(e,o),o){delete v[t];try{if(n.defined(e.error))o.reject(e.error);else{if(!n.defined(e.result))throw new Error("Should never happen.");o.resolve(e.result)}}catch(e){e.message?r.error("Response handler '"+o.method+"' failed with message: "+e.message):r.error("Response handler '"+o.method+"' failed unexpectedly.")}}}function N(e){var t;if(t=e.method===a.type.method?function(e){var t=e.id,r=g[String(t)];r&&r.cancel()}:d[e.method])try{m!=f.Off&&s&&function(e){s.log("["+(new Date).toLocaleTimeString()+"] Received notification '"+e.method+"'."),m===f.Verbose&&(e.params?s.log("Params: "+JSON.stringify(e.params,null,4)+"\n\n"):s.log("No parameters provided.\n\n"))}(e),t(e.params)}catch(t){t.message?r.error("Notification handler '"+e.method+"' failed with message: "+t.message):r.error("Notification handler '"+e.method+"' failed unexpectedly.")}}e.onClose(S),e.onError((function(e){E.fire([e,void 0,void 0])})),t.onClose(S),t.onError((function(e){E.fire(e)}));var R=function(e){o.isRequestMessage(e)?function(e){function r(r){var i={jsonrpc:"2.0",id:e.id};r instanceof o.ResponseError?i.error=r.toJson():i.result=n.undefined(r)?null:r,t.write(i)}function i(r){var n={jsonrpc:"2.0",id:e.id,error:r.toJson()};t.write(n)}var s=p[e.method];if(s){var c=new u.CancellationTokenSource,a=String(e.id);g[a]=c;try{var l=s(e.params,c.token),f=l;l?f.then?f.then((function(e){delete g[a],r(e)}),(function(t){delete g[a],t instanceof o.ResponseError?i(t):t&&n.string(t.message)?i(new o.ResponseError(o.ErrorCodes.InternalError,"Request "+e.method+" failed with message: "+t.message)):i(new o.ResponseError(o.ErrorCodes.InternalError,"Request "+e.method+" failed unexpectedly without providing any details."))})):(delete g[a],r(l)):(delete g[a],function(r){n.undefined(r)&&(r=null);var o={jsonrpc:"2.0",id:e.id,result:r};t.write(o)}(l))}catch(t){delete g[a],t instanceof o.ResponseError?r(t):t&&n.string(t.message)?i(new o.ResponseError(o.ErrorCodes.InternalError,"Request "+e.method+" failed with message: "+t.message)):i(new o.ResponseError(o.ErrorCodes.InternalError,"Request "+e.method+" failed unexpectedly without providing any details."))}}else i(new o.ResponseError(o.ErrorCodes.MethodNotFound,"Unhandled method "+e.method))}(e):o.isReponseMessage(e)?w(e):o.isNotificationMessage(e)?N(e):function(e){if(e){r.error("Recevied message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));var t=e;if(n.string(t.id)||n.number(t.id)){var o=String(t.id),i=v[o];i&&i.reject(new Error("The received response has neither a result nor an error property."))}}else r.error("Received empty message.")}(e)},I={sendNotification:function(e,r){var n,o={jsonrpc:"2.0",method:e.method,params:r};m!=f.Off&&s&&(n=o,s.log("["+(new Date).toLocaleTimeString()+"] Sending notification '"+n.method+"'."),m===f.Verbose&&(n.params?s.log("Params: "+JSON.stringify(n.params,null,4)+"\n\n"):s.log("No parameters provided.\n\n"))),t.write(o)},onNotification:function(e,t){d[e.method]=t},sendRequest:function(e,r,n){var i=h++,c=new Promise((function(n,c){var a,u={jsonrpc:"2.0",id:i,method:e.method,params:r},l={method:e.method,timerStart:Date.now(),resolve:n,reject:c};m!=f.Off&&s&&(a=u,s.log("["+(new Date).toLocaleTimeString()+"] Sending request '"+a.method+" - ("+a.id+")'."),m===f.Verbose&&a.params&&s.log("Params: "+JSON.stringify(a.params,null,4)+"\n\n"));try{t.write(u)}catch(e){l.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),l=null}l&&(v[String(i)]=l)}));return n&&n.onCancellationRequested((function(e){I.sendNotification(a.type,{id:i})})),c},onRequest:function(e,t){p[e.method]=t},trace:function(e,t){s=(m=e)===f.Off?null:t},onError:E.event,onClose:b.event,dispose:function(){},listen:function(){e.listen(R)}};return I}function p(e){return n.defined(e.listen)&&n.undefined(e.read)}function d(e){return n.defined(e.write)&&n.undefined(e.end)}!function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}}(f=t.Trace||(t.Trace={})),function(e){e[e.Active=1]="Active",e[e.Closed=2]="Closed"}(l||(l={})),t.createServerMessageConnection=function(e,t,r){return h(p(e)?e:new i.StreamMessageReader(e),d(t)?t:new s.StreamMessageWriter(t),r)},t.createClientMessageConnection=function(e,t,r){return h(p(e)?e:new i.StreamMessageReader(e),d(t)?t:new s.StreamMessageWriter(t),r,!0)}},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";var n=r(32),o=r(0),i=r(1),s=r(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(s.LibraryResourceStrings.variableIsNotDefined("globPattern"));return(t=t||{}).cwd=t.cwd||process.cwd(),function e(t,r){return c(t,r).then((function(n){if(n.length>0){var c=n.map((function(e){return o.join(r.cwd,e)}));if(r.fileSelector)return r.fileSelector(c);if(1===c.length)return c[0];throw new Error(s.LibraryResourceStrings.multipleFileFound(r.cwd,n.map((function(e){return"'"+e+"'"})).join(", ")))}if(!r.goUp)return i.resolve(null);var a=o.dirname(r.cwd);return a===r.cwd?i.resolve(null):(r.cwd=a,e(t,r))}))}(e,t)};var c=i.denodeify(n)},function(e,t,r){e.exports=l,l.Minimatch=f;var n={sep:"/"};try{n=r(0)}catch(e){}var o=l.GLOBSTAR=f.GLOBSTAR={},i=r(62),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var a=/\/+/;function u(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function l(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new f(t,r).match(e))}function f(e,t){if(!(this instanceof f))return new f(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(e,t){if(t||(t=this instanceof f?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:i(e)}l.filter=function(e,t){return t=t||{},function(r,n,o){return l(r,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,r=function(r,n,o){return t.minimatch(r,n,u(e,o))};return r.Minimatch=function(r,n){return new t.Minimatch(r,u(e,n))},r},f.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:f},f.prototype.debug=function(){},f.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(a)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},f.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=this.options,n=0;if(r.nonegate)return;for(var o=0,i=e.length;o<i&&"!"===e.charAt(o);o++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},l.braceExpand=function(e,t){return h(e,t)},f.prototype.braceExpand=h,f.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return o;if(""===e)return"";var n,i="",a=!!r.nocase,u=!1,l=[],f=[],h=!1,d=-1,v=-1,g="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function y(){if(n){switch(n){case"*":i+="[^/]*?",a=!0;break;case"?":i+="[^/]",a=!0;break;default:i+="\\"+n}m.debug("clearStateChar %j %j",n,i),n=!1}}for(var E,b=0,S=e.length;b<S&&(E=e.charAt(b));b++)if(this.debug("%s\t%s %s %j",e,b,i,E),u&&c[E])i+="\\"+E,u=!1;else switch(E){case"/":return!1;case"\\":y(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,b,i,E),h){this.debug("  in class"),"!"===E&&b===v+1&&(E="^"),i+=E;continue}m.debug("call clearStateChar %j",n),y(),n=E,r.noext&&y();continue;case"(":if(h){i+="(";continue}if(!n){i+="\\(";continue}l.push({type:n,start:b-1,reStart:i.length,open:s[n].open,close:s[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(h||!l.length){i+="\\)";continue}y(),a=!0;var w=l.pop();i+=w.close,"!"===w.type&&f.push(w),w.reEnd=i.length;continue;case"|":if(h||!l.length||u){i+="\\|",u=!1;continue}y(),i+="|";continue;case"[":if(y(),h){i+="\\"+E;continue}h=!0,v=b,d=i.length,i+=E;continue;case"]":if(b===v+1||!h){i+="\\"+E,u=!1;continue}if(h){var N=e.substring(v+1,b);try{RegExp("["+N+"]")}catch(e){var R=this.parse(N,p);i=i.substr(0,d)+"\\["+R[0]+"\\]",a=a||R[1],h=!1;continue}}a=!0,h=!1,i+=E;continue;default:y(),u?u=!1:!c[E]||"^"===E&&h||(i+="\\"),i+=E}h&&(N=e.substr(v+1),R=this.parse(N,p),i=i.substr(0,d)+"\\["+R[0],a=a||R[1]);for(w=l.pop();w;w=l.pop()){var I=i.slice(w.reStart+w.open.length);this.debug("setting tail",i,w),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",I,I,w,i);var O="*"===w.type?"[^/]*?":"?"===w.type?"[^/]":"\\"+w.type;a=!0,i=i.slice(0,w.reStart)+O+"\\("+I}y(),u&&(i+="\\\\");var P=!1;switch(i.charAt(0)){case".":case"[":case"(":P=!0}for(var C=f.length-1;C>-1;C--){var k=f[C],x=i.slice(0,k.reStart),L=i.slice(k.reStart,k.reEnd-8),A=i.slice(k.reEnd-8,k.reEnd),T=i.slice(k.reEnd);A+=T;var _=x.split("(").length-1,H=T;for(b=0;b<_;b++)H=H.replace(/\)[+*?]?/,"");var j="";""===(T=H)&&t!==p&&(j="$"),i=x+L+T+j+A}""!==i&&a&&(i="(?=.)"+i);P&&(i=g+i);if(t===p)return[i,a];if(!a)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var D=r.nocase?"i":"";try{var F=new RegExp("^"+i+"$",D)}catch(e){return new RegExp("$.")}return F._glob=e,F._src=i,F};var p={};l.makeRe=function(e,t){return new f(e,t||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===o?r:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,r){var n=new f(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},f.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/"));e=e.split(a),this.debug(this.pattern,"split",e);var o,i,s=this.set;for(this.debug(this.pattern,"set",s),i=e.length-1;i>=0&&!(o=e[i]);i--);for(i=0;i<s.length;i++){var c=s[i],u=e;if(r.matchBase&&1===c.length&&(u=[o]),this.matchOne(u,c,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},f.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,c=e.length,a=t.length;i<c&&s<a;i++,s++){this.debug("matchOne loop");var u,l=t[s],f=e[i];if(this.debug(t,l,f),!1===l)return!1;if(l===o){this.debug("GLOBSTAR",[t,l,f]);var h=i,p=s+1;if(p===a){for(this.debug("** at the end");i<c;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;h<c;){var d=e[h];if(this.debug("\nglobstar while",e,h,t,p,d),this.matchOne(e.slice(h),t.slice(p),r))return this.debug("globstar found match!",h,c,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==c))}if("string"==typeof l?(u=n.nocase?f.toLowerCase()===l.toLowerCase():f===l,this.debug("string match",l,f,u)):(u=f.match(l),this.debug("pattern match",l,f,u)),!u)return!1}if(i===c&&s===a)return!0;if(i===c)return r;if(s===a)return i===c-1&&""===e[i];throw new Error("wtf?")}},function(e,t,r){"use strict";function n(e){return"/"===e.charAt(0)}function o(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||n)}e.exports="win32"===process.platform?o:n,e.exports.posix=n,e.exports.win32=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(0),i=r(2),s=r(1),c=r(6),a=r(16),u=r(54),l=r(39),f=r(3),h=r(4),p=r(5),d=function(){function e(e,t,r){var n=this;if(this.clientName=e||"client",this._logger=t||new c.Logger(this.clientName),r){if(!o.isAbsolute(r))throw new f.ServiceHubError(f.ErrorKind.InvalidArgument,h.LibraryResourceStrings.serviceHubConfigFilePathIsNotAbsolute(r));if(o.basename(r)!==l.serviceHubConfigFileName)throw new f.ServiceHubError(f.ErrorKind.InvalidArgument,h.LibraryResourceStrings.serviceHubConfigFileNameIsIncorrect(r));if(!i.existsSync(r))throw new f.ServiceHubError(f.ErrorKind.InvalidArgument,h.LibraryResourceStrings.serviceHubConfigFileDoesNotExist(r));this.hubLookup=new u.HubLookup({getConfig:function(){return l.loadConfig(o.dirname(r),n._logger)}})}else this.hubLookup=new u.HubLookup;this.locationServiceFactory=this.hubLookup.getLocationService.bind(this.hubLookup)}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!0,configurable:!0}),e.prototype.getSessionId=function(){return this.throwIfDisposed(),this.locationServiceFactory().then((function(e){return e.getSessionId()}))},e.prototype.requestService=function(e){if(!e)throw new f.ServiceHubError(f.ErrorKind.InvalidArgument,h.LibraryResourceStrings.variableIsNotDefined("service"));this.throwIfDisposed();var t="string"==typeof e?{name:e}:e;return this.requestServiceWithRetries(t,10).then((function(e){return e.stream}))},e.prototype.disposeAsync=function(){return this.disposed=!0,this.hubLookup.disposeAsync()},e.prototype.requestServiceWithRetries=function(e,t){var r=this,n=null;return this.locationServiceFactory().then((function(t){return t.locate(e)})).then((function(e){return n=e,a.connect(e.location).then((function(t){return{stream:t,clientWatch:e.clientWatch}}))})).catch((function(o){if((o.code===p.ENOENT.code||-32e3===o.code)&&t>1){-32e3===o.code&&r.hubLookup.resetLocationService();var i=10-t;return r.logger.error("requestService failed with error: '"+o.message+"'"),r.logger.error("Retrying attempted connection to service '"+r.clientName+"' - attempt '"+i+"'"),s.delay(100).then((function(){return r.requestServiceWithRetries(e,t-1)}))}throw null!==n?r.logger.error("Attempted connection to service '"+r.clientName+"' at '"+n.location+"'"):r.logger.error("Attempted connection to service '"+r.clientName+"': location is null"),o}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new f.ServiceHubError(f.ErrorKind.ObjectDisposed)},e}();t.HubClient=d;var v=function(e){function t(t,r,n){e.call(this,t,r),this.locationServiceFactory=n}return n(t,e),t}(d);t.HubClientInternal=v;var g=function(e){function t(t,r,n){e.call(this,t,r,n)}return n(t,e),t.prototype.getConfig=function(){return this.hubLookup.getConfig()},t.prototype.stopHubController=function(){return this.hubLookup.stopHubController()},t.prototype.exit=function(){var e,t=this;return this.stopHubController().then((function(r){return e=r,t.disposeAsync()})).catch((function(e){if(e.code!==p.ENOENT.code)throw e})).then((function(){return e}))},t.prototype.startHeapDiff=function(){return this.locationServiceFactory().then((function(e){return e.startHeapDiff()}))},t.prototype.endHeapDiff=function(){return this.locationServiceFactory().then((function(e){return e.endHeapDiff()}))},t.prototype.runGC=function(){return this.locationServiceFactory().then((function(e){return e.runGC()}))},t.prototype.captureHeapDump=function(e){return this.locationServiceFactory().then((function(t){return t.captureHeapDump(e)}))},t.prototype.getHubControllerPid=function(){return this.locationServiceFactory().then((function(e){return e.getHubControllerPid()}))},t}(d);t.HubClientInternal2=g},function(e,t){e.exports=require("net")},function(e,t){!function(t,r){"use strict";var n=void 0!==e;n&&(t=global);var o="0123456789abcdef".split(""),i=[-2147483648,8388608,32768,128],s=[24,16,8,0],c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=[],u=function(e){return l(e,!0)},l=function(e,r){var n="string"!=typeof e;n&&e.constructor==t.ArrayBuffer&&(e=new Uint8Array(e));var u,l,f,h,p,d,v,g,m,y,E,b,S,w,N,R,I,O,P,C,k=!0,x=!1,L=0,A=0,T=0,_=e.length;r?(u=3238371032,l=914150663,f=812702999,h=4144912697,p=4290775857,d=1750603025,v=1694076839,g=3204075428):(u=1779033703,l=3144134277,f=1013904242,h=2773480762,p=1359893119,d=2600822924,v=528734635,g=1541459225),m=0;do{if(a[0]=m,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0,n)for(E=A;L<_&&E<64;++L)a[E>>2]|=e[L]<<s[3&E++];else for(E=A;L<_&&E<64;++L)(y=e.charCodeAt(L))<128?a[E>>2]|=y<<s[3&E++]:y<2048?(a[E>>2]|=(192|y>>6)<<s[3&E++],a[E>>2]|=(128|63&y)<<s[3&E++]):y<55296||y>=57344?(a[E>>2]|=(224|y>>12)<<s[3&E++],a[E>>2]|=(128|y>>6&63)<<s[3&E++],a[E>>2]|=(128|63&y)<<s[3&E++]):(y=65536+((1023&y)<<10|1023&e.charCodeAt(++L)),a[E>>2]|=(240|y>>18)<<s[3&E++],a[E>>2]|=(128|y>>12&63)<<s[3&E++],a[E>>2]|=(128|y>>6&63)<<s[3&E++],a[E>>2]|=(128|63&y)<<s[3&E++]);T+=E-A,A=E-64,L==_&&(a[E>>2]|=i[3&E],++L),m=a[16],L>_&&E<56&&(a[15]=T<<3,x=!0);var H=u,j=l,D=f,F=h,M=p,U=d,q=v,G=g;for(b=16;b<64;++b)S=((R=a[b-15])>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,w=((R=a[b-2])>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,a[b]=a[b-16]+S+a[b-7]+w<<0;for(C=j&D,b=0;b<64;b+=4)k?(r?(I=300032,G=(R=a[0]-1413257819)-150054599<<0,F=R+24177077<<0):(I=704751109,G=(R=a[0]-210244248)-1521486534<<0,F=R+143694565<<0),k=!1):(S=(H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10),N=(I=H&j)^H&D^C,G=F+(R=G+(w=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&U^~M&q)+c[b]+a[b])<<0,F=R+(S+N)<<0),S=(F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10),N=(O=F&H)^F&j^I,q=D+(R=q+(w=(G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))+(G&M^~G&U)+c[b+1]+a[b+1])<<0,S=((D=R+(S+N)<<0)>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10),N=(P=D&F)^D&H^O,U=j+(R=U+(w=(q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(q&G^~q&M)+c[b+2]+a[b+2])<<0,S=((j=R+(S+N)<<0)>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10),N=(C=j&D)^j&F^P,M=H+(R=M+(w=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))+(U&q^~U&G)+c[b+3]+a[b+3])<<0,H=R+(S+N)<<0;u=u+H<<0,l=l+j<<0,f=f+D<<0,h=h+F<<0,p=p+M<<0,d=d+U<<0,v=v+q<<0,g=g+G<<0}while(!x);var W=o[u>>28&15]+o[u>>24&15]+o[u>>20&15]+o[u>>16&15]+o[u>>12&15]+o[u>>8&15]+o[u>>4&15]+o[15&u]+o[l>>28&15]+o[l>>24&15]+o[l>>20&15]+o[l>>16&15]+o[l>>12&15]+o[l>>8&15]+o[l>>4&15]+o[15&l]+o[f>>28&15]+o[f>>24&15]+o[f>>20&15]+o[f>>16&15]+o[f>>12&15]+o[f>>8&15]+o[f>>4&15]+o[15&f]+o[h>>28&15]+o[h>>24&15]+o[h>>20&15]+o[h>>16&15]+o[h>>12&15]+o[h>>8&15]+o[h>>4&15]+o[15&h]+o[p>>28&15]+o[p>>24&15]+o[p>>20&15]+o[p>>16&15]+o[p>>12&15]+o[p>>8&15]+o[p>>4&15]+o[15&p]+o[d>>28&15]+o[d>>24&15]+o[d>>20&15]+o[d>>16&15]+o[d>>12&15]+o[d>>8&15]+o[d>>4&15]+o[15&d]+o[v>>28&15]+o[v>>24&15]+o[v>>20&15]+o[v>>16&15]+o[v>>12&15]+o[v>>8&15]+o[v>>4&15]+o[15&v];return r||(W+=o[g>>28&15]+o[g>>24&15]+o[g>>20&15]+o[g>>16&15]+o[g>>12&15]+o[g>>8&15]+o[g>>4&15]+o[15&g]),W};!t.JS_SHA256_TEST&&n?(l.sha256=l,l.sha224=u,e.exports=l):t&&(t.sha256=l,t.sha224=u)}(this)},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/var n=r(27),o=r(0),i=r(8),s=r(29),c=function(){function e(e){if(this._packageInfo=e.packageInfo,""!==e.appRoot&&!o.isAbsolute(e.appRoot))throw new Error('Invalid app root "'+e.appRoot+'". You must provide an absolute path or an empty string');this._packageInfo.packageJsonFullPath=e.appRoot,this._exeName=e.exeName,this.emitter=new s.EventEmitter,this.channels=[]}return e.prototype.addReportingChannel=function(e){this.channels.push(e),e.registerListeners(this)},e.prototype.removeReportingChannel=function(e){var t=this.channels.indexOf(e);-1!==t&&this.channels.splice(t,1)},Object.defineProperty(e.prototype,"appName",{get:function(){return this._packageInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){return this._packageInfo.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appRoot",{get:function(){return this._packageInfo.packageJsonFullPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"branch",{get:function(){return this._packageInfo.branch},enumerable:!0,configurable:!0}),e.prototype.reportError=function(e,t){var r,o=this;this.emitReportingStarted();try{r=new i.ErrorInformation({rawError:e,packageInfo:this._packageInfo,errorType:t,exeName:this._exeName,errorReporter:this})}catch(t){try{this.emitInternalError(t,e,"")}catch(e){}if(!r)return Promise.resolve({})}var s=[],c=[],a=[];this.channels.forEach((function(e){var t;try{t=e.report(r)}catch(e){t=Promise.reject(e)}var n=new Promise((function(t,r){c.push(r),a.push(e.timeout)})),o=Promise.race([t,n]);s.push(o)}));for(var u=0;u<c.length;u++)a[u]>=0&&setTimeout(c[u],a[u],"timed out after "+a[u]+" ms");return n.tryAll(s).then((function(e){return o.reportInternalFailures(e,o.channels),o.emitReportingFinished(e),e})).catch((function(e){return e}))},e.prototype.reportInternalFailures=function(e,t){for(var r=0;r<t.length;r++)t[r].reportOnFailure&&!e.resolved[r]&&this.emitInternalError(e.failReasons[r],null,null)},e.prototype.onInternalError=function(e){this.emitter.on("internalError",e)},e.prototype.emitInternalError=function(e,t,r){if(this.emitter.listenerCount("internalError")>0){var n=new i.ErrorInformation({rawError:e}),o=void 0;try{o=n.getVerboseStack()}catch(e){o="UNKNOWN\tUNKNOWN"}var s={props:{InternalErrorStack:o,InternalErrorType:n.errorName},PIIProps:{InternalErrorMessage:n.errorMessage,RawInternalError:e,OriginalError:t,ProblemString:r}};this.emitter.emit("internalError",s)}},e.prototype.onReportingStarted=function(e){this.emitter.on("reportingStarted",e)},e.prototype.emitReportingStarted=function(){return this.emitter.emit("reportingStarted")},e.prototype.onReportingFinished=function(e){this.emitter.on("reportingFinished",e)},e.prototype.emitReportingFinished=function(e){return this.emitter.emit("reportingFinished",e)},e}();t.ErrorReporter=c},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/var n=function(){this.resolved=[],this.results=[],this.failReasons=[]};t.tryAll=function(e){if(0===e.length)return Promise.resolve(new n);for(var t=new n,r=[],o=function(n){e[n]&&e[n].then?r.push(e[n].then((function(e){return t.results[n]=e,t.resolved[n]=!0,e}),(function(e){t.resolved[n]=!1,t.failReasons[n]=e}))):(t.resolved[n]=!1,t.failReasons[n]="Invalid Promise: "+JSON.stringify(e[n]))},i=0;i<e.length;i++)o(i);return Promise.all(r).then((function(){return t}),(function(e){return Promise.reject(e)}))}},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(8),i=r(2),s=r(0),c=function(){function e(e,t){this._reportOnFailure=void 0!==e&&e,this._timeout=void 0!==t?t:500}return Object.defineProperty(e.prototype,"reportOnFailure",{get:function(){return this._reportOnFailure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this._timeout},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(e){},e}();t.ReportingChannel=c;var a=function(e){function t(){e.call(this)}return n(t,e),t.prototype.report=function(e){return new Promise((function(t,r){if(e.rawError.stack.length>2e3){var n=e.rawError.stack.substr(0,1e3);n+="\n...shortened to avoid blocking while printing...\n...see other reporting methods for full stack...\n",n+=e.rawError.stack.substring(e.rawError.stack.length-1e3),console.log(n)}else console.log(e.rawError.stack);console.log(),t()}))},t}(c);t.ConsoleReporter=a;var u=function(e){function t(t,r,n){e.call(this),this.fileName=r,this.filePath=t,this.stripStack=n}return n(t,e),t.prototype.report=function(e){var t=this;return new Promise((function(r,n){var c,a=s.join(t.filePath,t.fileName);t.stripStack?(c=e.errorName+o.WATSON_LINE_BREAK,c+=e.errorMessage+o.WATSON_LINE_BREAK,c+=e.getVerboseStack()+o.WATSON_LINE_BREAK+o.WATSON_LINE_BREAK):c=e.rawError.stack+"\n",i.appendFile(a,c,{},(function(e){e?n(e.stack):r(a)}))}))},t}(c);t.FileReporter=u},function(e,t){e.exports=require("events")},function(e,t,r){
/*!
 * Tmp
 *
 * Copyright (c) 2011-2015 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
var n=r(2),o=r(0),i=(r(7),r(25)),s=n.exists||o.exists,a=n.existsSync||o.existsSync,u=r(50),l=r(51),f=u(),h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",p=/XXXXXX/,d=l.O_CREAT|l.O_EXCL|l.O_RDWR,v=[],g=!1,m=!1;function y(e){var t=[],r=null;try{r=i.randomBytes(e)}catch(t){r=i.pseudoRandomBytes(e)}for(var n=0;n<e;n++)t.push(h[r[n]%h.length]);return t.join("")}function E(e,t){if("function"==typeof e){var r=e;e=t||{},t=r}else void 0===e&&(e={});return[e,t]}function b(e){if(e.name)return o.join(e.dir||f,e.name);if(e.template)return e.template.replace(p,y(6));var t=[e.prefix||"tmp-",process.pid,y(12),e.postfix||""].join("");return o.join(e.dir||f,t)}function S(e,t){var r=E(e,t),n=r[0],o=r[1],i=n.tries||3;return isNaN(i)||i<0?o(new Error("Invalid tries")):n.template&&!n.template.match(p)?o(new Error("Invalid template provided")):void function e(){var t=b(n);s(t,(function(r){if(r)return i-- >0?e():o(new Error("Could not get a unique tmp filename, max tries reached "+t));o(null,t)}))}()}function w(e){var t=E(e)[0],r=t.tries||3;if(isNaN(r)||r<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(p))throw new Error("Invalid template provided");do{var n=b(t);if(!a(n))return n}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function N(e){var t=[e];do{for(var r=t.pop(),i=!1,s=n.readdirSync(r),c=0,a=s.length;c<a;c++){var u=o.join(r,s[c]);n.lstatSync(u).isDirectory()?(i||(i=!0,t.push(r)),t.push(u)):n.unlinkSync(u)}i||n.rmdirSync(r)}while(0!==t.length)}function R(e,t,r){var o=O((function(e){try{n.closeSync(e[0])}catch(e){if(e.errno!=-l.EBADF&&e.errno!=-c.ENOENT)throw e}n.unlinkSync(e[1])}),[t,e]);return r.keep||v.unshift(o),o}function I(e,t){var r=O(t.unsafeCleanup?N:n.rmdirSync.bind(n),e);return t.keep||v.unshift(r),r}function O(e,t){var r=!1;return function(){if(!r){var n=v.indexOf(e);n>=0&&v.splice(n,1),r=!0,e(t)}}}function P(){if(!m||g)for(var e=0,t=v.length;e<t;e++)try{v[e].call(null)}catch(e){}}var C=process.versions.node.split(".").map((function(e){return parseInt(e,10)}));0===C[0]&&(C[1]<9||9===C[1]&&C[2]<5)&&process.addListener("uncaughtException",(function(e){throw m=!0,P(),e})),process.addListener("exit",(function(e){e&&(m=!0),P()})),e.exports.tmpdir=f,e.exports.dir=function(e,t){var r=E(e,t),o=r[0],i=r[1];S(o,(function(e,t){if(e)return i(e);n.mkdir(t,o.mode||448,(function(e){if(e)return i(e);i(null,t,I(t,o))}))}))},e.exports.dirSync=function(e){var t=E(e)[0],r=w(t);return n.mkdirSync(r,t.mode||448),{name:r,removeCallback:I(r,t)}},e.exports.file=function(e,t){var r=E(e,t),o=r[0],i=r[1];o.postfix=void 0===o.postfix?".tmp":o.postfix,S(o,(function(e,t){if(e)return i(e);n.open(t,d,o.mode||384,(function(e,r){if(e)return i(e);i(null,t,r,R(t,r,o))}))}))},e.exports.fileSync=function(e){var t=E(e)[0];t.postfix=t.postfix||".tmp";var r=w(t),o=n.openSync(r,d,t.mode||384);return{name:r,fd:o,removeCallback:R(r,o,t)}},e.exports.tmpName=S,e.exports.tmpNameSync=w,e.exports.setGracefulCleanup=function(){g=!0}},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=31},function(e,t,r){e.exports=E;var n=r(2),o=r(33),i=r(20),s=(i.Minimatch,r(65)),c=r(29).EventEmitter,a=r(0),u=r(34),l=r(21),f=r(67),h=r(35),p=(h.alphasort,h.alphasorti,h.setopts),d=h.ownProp,v=r(68),g=(r(9),h.childrenIgnored),m=h.isIgnored,y=r(37);function E(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return f(e,t)}return new S(e,t,r)}E.sync=f;var b=E.GlobSync=f.GlobSync;function S(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof S))return new S(e,t,r);p(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=y(r),this.on("error",r),this.on("end",(function(e){r(null,e)})));var o=this;n=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(n),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return s();for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1,s);function s(){--o._processing,o._processing<=0&&o._finish()}}E.glob=E,E.hasMagic=function(e,t){var r=function(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}({},t);r.noprocess=!0;var n=new S(e,r).minimatch.set;if(n.length>1)return!0;for(var o=0;o<n[0].length;o++)if("string"!=typeof n[0][o])return!0;return!1},E.Glob=S,s(S,c),S.prototype._finish=function(){if(u(this instanceof S),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},S.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--e&&t._finish()}},S.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,s=n.length;if(0===s)return t();var c=this.matches[e]=Object.create(null);n.forEach((function(r,n){r=i._makeAbs(r),o.realpath(r,i.realpathCache,(function(n,o){n?"stat"===n.syscall?c[r]=!0:i.emit("error",n):c[o]=!0,0==--s&&(i.matches[e]=c,t())}))}))},S.prototype._mark=function(e){return h.mark(this,e)},S.prototype._makeAbs=function(e){return h.makeAbs(this,e)},S.prototype.abort=function(){this.aborted=!0,this.emit("abort")},S.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},S.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<n.length;t++){var o=n[t];this._processing--,this._process(o[0],o[1],o[2],o[3])}}}},S.prototype._process=function(e,t,r,n){if(u(this instanceof S),u("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,n]);else{for(var o,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:o=null;break;default:o=e.slice(0,s).join("/")}var c,a=e.slice(s);null===o?c=".":l(o)||l(e.join("/"))?(o&&l(o)||(o="/"+o),c=o):c=o;var f=this._makeAbs(c);if(g(this,c))return n();a[0]===i.GLOBSTAR?this._processGlobStar(o,c,f,a,t,r,n):this._processReaddir(o,c,f,a,t,r,n)}},S.prototype._processReaddir=function(e,t,r,n,o,i,s){var c=this;this._readdir(r,i,(function(a,u){return c._processReaddir2(e,t,r,n,o,i,u,s)}))},S.prototype._processReaddir2=function(e,t,r,n,o,i,s,c){if(!s)return c();for(var u=n[0],l=!!this.minimatch.negate,f=u._glob,h=this.dot||"."===f.charAt(0),p=[],d=0;d<s.length;d++){if("."!==(g=s[d]).charAt(0)||h)(l&&!e?!g.match(u):g.match(u))&&p.push(g)}var v=p.length;if(0===v)return c();if(1===n.length&&!this.mark&&!this.stat){this.matches[o]||(this.matches[o]=Object.create(null));for(d=0;d<v;d++){var g=p[d];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(o,g)}return c()}n.shift();for(d=0;d<v;d++){g=p[d];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(n),o,i,c)}c()},S.prototype._emitMatch=function(e,t){if(!this.aborted&&!this.matches[e][t]&&!m(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=this._makeAbs(t);if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.mark&&(t=this._mark(t)),this.matches[e][t]=!0;var o=this.statCache[r];o&&this.emit("stat",t,o),this.emit("match",t)}},S.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,o=v("lstat\0"+e,(function(n,o){if(n)return t();var i=o.isSymbolicLink();r.symlinks[e]=i,i||o.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())}));o&&n.lstat(e,o)}},S.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=v("readdir\0"+e+"\0"+t,r))){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e,r);if(d(this.cache,e)){var o=this.cache[e];if(!o||"FILE"===o)return r();if(Array.isArray(o))return r(null,o)}n.readdir(e,function(e,t,r){return function(n,o){n?e._readdirError(t,n,r):e._readdirEntries(t,o,r)}}(this,e,r))}},S.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var o=t[n];o="/"===e?e+o:e+"/"+o,this.cache[o]=!0}return this.cache[e]=t,r(null,t)}},S.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var o=new Error(t.code+" invalid cwd "+this.cwd);o.path=this.cwd,o.code=t.code,this.emit("error",o),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},S.prototype._processGlobStar=function(e,t,r,n,o,i,s){var c=this;this._readdir(r,i,(function(a,u){c._processGlobStar2(e,t,r,n,o,i,u,s)}))},S.prototype._processGlobStar2=function(e,t,r,n,o,i,s,c){if(!s)return c();var a=n.slice(1),u=e?[e]:[],l=u.concat(a);this._process(l,o,!1,c);var f=this.symlinks[r],h=s.length;if(f&&i)return c();for(var p=0;p<h;p++){if("."!==s[p].charAt(0)||this.dot){var d=u.concat(s[p],a);this._process(d,o,!0,c);var v=u.concat(s[p],n);this._process(v,o,!0,c)}}c()},S.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,(function(o,i){n._processSimple2(e,t,o,i,r)}))},S.prototype._processSimple2=function(e,t,r,n,o){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return o();if(e&&l(e)&&!this.nomount){var i=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=a.join(this.root,e):(e=a.resolve(this.root,e),i&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),o()},S.prototype._stat=function(e,t){var r=this._makeAbs(e),o="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&d(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!o||"DIR"===i)return t(null,i);if(o&&"FILE"===i)return t()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return t(null,s);var c=s.isDirectory()?"DIR":"FILE";return o&&"FILE"===c?t():t(null,c,s)}var a=this,u=v("stat\0"+r,(function(o,i){if(i&&i.isSymbolicLink())return n.stat(r,(function(n,o){n?a._stat2(e,r,null,i,t):a._stat2(e,r,n,o,t)}));a._stat2(e,r,o,i,t)}));u&&n.lstat(r,u)},S.prototype._stat2=function(e,t,r,n,o){if(r)return this.statCache[t]=!1,o();var i="/"===e.slice(-1);if(this.statCache[t]=n,"/"===t.slice(-1)&&!n.isDirectory())return o(null,!1,n);var s=n.isDirectory()?"DIR":"FILE";return this.cache[t]=this.cache[t]||s,i&&"DIR"!==s?o():o(null,s,n)}},function(e,t,r){e.exports=l,l.realpath=l,l.sync=f,l.realpathSync=f,l.monkeypatch=function(){n.realpath=l,n.realpathSync=f},l.unmonkeypatch=function(){n.realpath=o,n.realpathSync=i};var n=r(2),o=n.realpath,i=n.realpathSync,s=process.version,c=/^v[0-5]\./.test(s),a=r(61);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,r){if(c)return o(e,t,r);"function"==typeof t&&(r=t,t=null),o(e,t,(function(n,o){u(n)?a.realpath(e,t,r):r(n,o)}))}function f(e,t){if(c)return i(e,t);try{return i(e,t)}catch(r){if(u(r))return a.realpathSync(e,t);throw r}}},function(e,t){e.exports=require("assert")},function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=a,t.setopts=function(e,t,r){r||(r={});if(r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0);e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,r),e.changedCwd=!1;var i=process.cwd();n(r,"cwd")?(e.cwd=o.resolve(r.cwd),e.changedCwd=e.cwd!==i):e.cwd=i;e.root=r.root||o.resolve(e.cwd,"/"),e.root=o.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=f(e,e.cwd),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new c(t,r),e.options=e.minimatch.options},t.ownProp=n,t.makeAbs=f,t.finish=function(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,o=e.matches.length;n<o;n++){var i=e.matches[n];if(i&&0!==Object.keys(i).length){var s=Object.keys(i);t?r.push.apply(r,s):s.forEach((function(e){r[e]=!0}))}else if(e.nonull){var c=e.minimatch.globSet[n];t?r.push(c):r[c]=!0}}t||(r=Object.keys(r));e.nosort||(r=r.sort(e.nocase?a:u));if(e.mark){for(n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter((function(t){var r=!/\/$/.test(t),n=e.cache[t]||e.cache[f(e,t)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}e.ignore.length&&(r=r.filter((function(t){return!h(e,t)})));e.found=r},t.mark=function(e,t){var r=f(e,t),n=e.cache[r],o=t;if(n){var i="DIR"===n||Array.isArray(n),s="/"===t.slice(-1);if(i&&!s?o+="/":!i&&s&&(o=o.slice(0,-1)),o!==t){var c=f(e,o);e.statCache[c]=e.statCache[r],e.cache[c]=e.cache[r]}}return o},t.isIgnored=h,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var o=r(0),i=r(20),s=r(21),c=i.Minimatch;function a(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new c(r,{dot:!0})}return{matcher:new c(e,{dot:!0}),gmatcher:t}}function f(e,t){var r=t;return r="/"===t.charAt(0)?o.join(e.root,t):s(t)||""===t?t:e.changedCwd?o.resolve(e.cwd,t):o.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function h(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(e){n[e]=o[e]})),n}}},function(e,t,r){var n=r(36);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}e.exports=n(o),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0})}))},function(e,t,r){"use strict";var n=r(0);function o(e){return null!==e&&"string"==typeof e&&(0===e.indexOf("./")||0===e.indexOf(".\\")||0===e.indexOf("../")||0===e.indexOf("..\\"))}t.isDotRelativePath=o,t.expandDotRelativePaths=function(e,t,r){if(!e)return null;if(t&&r&&r.length>0)for(var i=0;i<r.length;i++){var s=e[r[i]];"string"==typeof s&&null!==s&&o(s)&&(e[r[i]]=n.resolve(t,s))}return e}},function(e,t,r){"use strict";(function(e){var n=r(0),o=r(2),i=r(1),s=r(14),c=r(24).sha256,a=r(74),u=r(19),l=r(38),f=r(3),h=r(10),p=r(4);t.serviceHubConfigFileName="servicehub.config.json";var d=null;function v(e,c,d){return u.default(t.serviceHubConfigFileName,{cwd:e,goUp:!0,nodir:!0}).then((function(u){if(!u)throw new f.ServiceHubError(f.ErrorKind.ConfigurationError,p.LibraryResourceStrings.serviceHubConfigJsonNotFound(t.serviceHubConfigFileName,e));c&&c.info(p.LibraryResourceStrings.loading(u));var v=r(31)(u);if(v.filePath=u,!v.controller)throw new f.ServiceHubError(f.ErrorKind.ConfigurationError,p.LibraryResourceStrings.noValueForProperty(t.serviceHubConfigFileName,e,"controller"));if(!v.controller.args)throw new f.ServiceHubError(f.ErrorKind.ConfigurationError,t.serviceHubConfigFileName+" in "+e+" does not have a value for controller.args property");return v.controller=l.expandDotRelativePaths(v.controller,n.dirname(u),["executable"]),v.services=l.expandDotRelativePaths(v.services,n.dirname(u),["rootDir"]),v.hosts=l.expandDotRelativePaths(v.hosts,n.dirname(u),["rootDir"]),function(e,t,r){var c=e.filePath;return i.ninvoke(o,"readFile",e.filePath,"utf8").then((function(e){return c+="//\\\\"+e,a.default()})).then((function(t){if(c+="//\\\\"+(t?"elevated":"unelevated"),c+="//\\\\"+process.pid,e.controller.contextEnvironmentVariables)for(var a=0,u=e.controller.contextEnvironmentVariables;a<u.length;a++){var l=u[a],f=r?r[l]:process.env[l];f&&(c+="//\\\\"+f)}var d=process.env.PkgDefApplicationConfigFile;return"win32"!==process.platform?g(d,c,"//\\\\"):function(){if("win32"!==process.platform)return i.resolve(null);var e=process.env.LocalAppData?process.env.LocalAppData:process.env.Temp,t=i.defer();if(!e)return t.reject(new Error(p.LibraryResourceStrings.failedGetSaltString+" "+p.LibraryResourceStrings.noLocalAppDataFolder)),t.promise;var r=n.join(e,"ServiceHub"),c=n.join(r,"salt"),a=0;return function e(n){if(3===a)return n?t.reject(new Error(p.LibraryResourceStrings.failedGetSaltString+" "+(n.message||n))):t.reject(new Error(p.LibraryResourceStrings.failedGetSaltString));a++;var u=i.defer();o.exists(c,u.resolve),u.promise.then((function(e){if(e)return i.ninvoke(o,"readFile",c,"utf8").then((function(e){return t.resolve(e)}));return i.nfcall(s,r).then((function(){return i.ninvoke(o,"open",c,"wx")})).then((function(e){return h.default(32,!0).then((function(r){return i.ninvoke(o,"write",e,r,"utf8").then((function(){return i.ninvoke(o,"close",e)})).then((function(){return t.resolve(r)}))}))}))})).done((function(){}),(function(t){return e(t)}))}(),t.promise}().then((function(e){return g(d,c+="//\\\\"+e,"//\\\\")}))}))}(v,0,d).then((function(e){return e=f.formatPipeName(e),v.controller.pipeName=e,v.controller.args=v.controller.args.map((function(e){return e.replace("$PIPE",(function(){return v.controller.pipeName}))})),v}))}))}function g(e,t,r){if(null!=e){var o=r+n.parse(e).base;return c(t+o).toLowerCase()+o}return c(t).toLowerCase()}t.configDir=e,t.getConfig=function(e){return d||(d=v(t.configDir,e)),d},t.setConfig=function(e){d=i.resolve(e)},t.loadConfig=v}).call(this,"/")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(41),i=function(){function e(e,t){this.stream=e,this.hostSvcs=t,this.dynamicRequire=require,e.once("end",this.end.bind(this)),o.JsonRpcConnection.attach(e,t.logger,this,["eslint"])}return e.prototype.end=function(){console.log("Client of JSTSLintingService disconnected")},e.prototype.eslint=function(e){var t,r=[];try{var o=JSON.parse(e),i=this.dynamicRequire(o.linterPath+n.sep+"node_modules"+n.sep+"eslint"),s={cwd:o.projectRoot,ignorePattern:["wwwroot/lib/**","**/node_modules/**","**/bower_components/**","**/jspm_packages/**"],resolvePluginsRelativeTo:o.linterPath};o.parserPath&&(s.parser=o.parserPath);var c=new i.CLIEngine(s).executeOnText(o.fileContents,o.fileName).results[0];void 0!==c&&(c.messages.forEach(this.addRuleIdToParseError),(r=c.messages.filter((function(e){return null!=e.ruleId}))).forEach(this.addLocationInfoFromSourceCode)),t={lintMessages:r}}catch(e){(t=e).errorMessage=e.message}return t},e.prototype.addRuleIdToParseError=function(e){!0===e.fatal&&(e.ruleId="fatal-error")},e.prototype.addLocationInfoFromSourceCode=function(e){void 0!==e.endLine&&void 0!==e.endColumn||(e.endLine=e.line,e.endColumn=e.column)},e}();t.TypeScriptLintingService=i},function(e,t,r){"use strict";var n=r(22);t.HubClient=n.HubClient;var o=r(11);t.JsonRpcConnection=o.JsonRpcConnection;var i=r(6);t.LogLevel=i.LogLevel;var s=r(75);t.HostGroup=s.HostGroup},function(e,t,r){"use strict";var n=r(2),o=r(0);function i(e,t){if("string"!=typeof e)throw new Error("rmdirRecursive: directory path required");if(void 0!==t&&"function"!=typeof t)throw new Error("rmdirRecursive: callback must be function");var r,s,c=this;function a(e){e&&"ENOENT"===e.code&&(e=arguments[0]=null),s||(s=arguments),t&&!r&&(r=!0,t.apply(c,s))}return n.exists(e,(function(t){if(!t)return a(null);function r(t,r){if(t)return a(t);var s=r.length;if(0===s)return n.rmdir(e,a);r.forEach((function(t){i(o.resolve(e,t),(function(t){return t?a(t):0==--s?n.rmdir(e,a):void 0}))}))}n.stat(e,(function(t,o){if(t)return a(t);if(!o.isDirectory())return n.unlink(e,a);n.readdir(e,r)}))})),function(e){t||(t=e),s&&!r&&(r=!0,t.apply(c,s))}}function s(e){if("string"!=typeof e)throw new Error("rmdirRecursiveSync: directory path required");if(n.existsSync(e)){try{var t=n.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw e}if(!t.isDirectory())try{return n.unlinkSync(e)}catch(e){if("ENOENT"===e.code)return;throw e}n.readdirSync(e).forEach((function(t){s(o.resolve(e,t))}));try{return n.rmdirSync(e)}catch(e){if("ENOENT"===e.code)return;throw e}}}(t=e.exports=i).rmdirRecursive=i,t.rmdirRecursiveSync=s,t.sync=s},function(e,t,r){"use strict";var n=r(0),o=r(2),i={locale:void 0,cacheLanguageResolution:!0},s=!1,c=null,a=Object.prototype.toString;function u(e){return void 0!==e}function l(e){return"[object Number]"===a.call(e)}function f(e){return"[object String]"===a.call(e)}function h(e,t){return s&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,r){var n=r[0];return void 0!==t[n]?t[n]:e}))}function p(e){return function(t,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return l(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):h(e[t],n):f(r)?(console.warn("Message "+r+" didn't get externalized correctly."),h(r,n)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function d(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return h(t,r)}function v(e){if(!e)return d;var t=function(e){var t,r=n.extname(e);if(r&&(e=e.substr(0,e.length-r.length)),i.cacheLanguageResolution&&c)t=c;else{if(s||!i.locale)t=".nls.json";else for(var a=i.locale;a;){var u=".nls."+a+".json";if(o.existsSync(e+u)){t=u;break}var l=a.lastIndexOf("-");l>0?a=a.substring(0,l):(t=".nls.json",a=null)}i.cacheLanguageResolution&&(c=t)}return e+t}(e);try{var a=r(44)(t);return Array.isArray(a)?p(a):u(a.messages)&&u(a.keys)?p(a.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),d)}catch(t){return console.error("Can't load string bundle for "+e),d}}t.loadMessageBundle=v,t.config=function(e){var t,r;if(f(e))try{t=JSON.parse(e)}catch(t){console.error("Error parsing nls options: "+e)}else t=e;return t&&(f(t.locale)&&(i.locale=t.locale.toLowerCase(),c=null),(!0===(r=t.cacheLanguageResolution)||!1===r)&&(i.cacheLanguageResolution=t.cacheLanguageResolution)),s="pseudo"===i.locale,v}},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=44},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/var n=r(46);t.ErrorHandlerNode=n.ErrorHandlerNode;var o=r(28);t.ConsoleReporter=o.ConsoleReporter,t.FileReporter=o.FileReporter},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(26),i=r(8),s=r(27);!function(e){e[e.ready=0]="ready",e[e.reporting=1]="reporting",e[e.finishing=2]="finishing"}(t.State||(t.State={}));var c=t.State,a=function(e){function t(t){e.call(this,{appRoot:t.appRoot,packageInfo:t.packageInfo,exeName:t.exeName}),this.errorType="NodeFatal",this.finalCallback=t.finalCallback,this.currentState=c.ready,i.setStackTraceLimit(1/0),process.on("uncaughtException",this.handleUncaughtMain.bind(this))}return n(t,e),t.prototype.handleUncaughtMain=function(e){var t=this;if(this.currentState===c.ready)this.currentState=c.reporting;else{if(this.currentState===c.reporting){try{this.emitAsyncFailure(e)}catch(r){}return}this.currentState===c.finishing&&this.finalExit()}var r=i.coerceToError(e);this.reportError(r,this.errorType).then((function(){t.finishHandling(r)}))},t.prototype.finishHandling=function(e){this.currentState=c.finishing;try{if(this.finalCallback&&this.finalCallback(e))return void(this.currentState=c.ready)}catch(e){try{this.emitUserCallbackUncaughtException(e)}catch(e){}}try{this.emitAboutToExit().then(this.finalExit,this.finalExit),setTimeout(this.finalExit,500)}catch(e){this.finalExit()}},t.prototype.finalExit=function(){"win32"===process.platform&&process.abort(),process.exit(1)},t.prototype.onAboutToExit=function(e){void 0===this.aboutToExitPromises&&(this.aboutToExitPromises=[]),this.aboutToExitPromises.push(e)},t.prototype.emitAboutToExit=function(){if(this.aboutToExitPromises){var e=[];return this.aboutToExitPromises.forEach((function(t){try{e.push(t())}catch(e){}})),s.tryAll(e)}return Promise.resolve()},t.prototype.onAsyncFailure=function(e){this.emitter.on("ErrorReportAsyncFailure",e)},t.prototype.emitAsyncFailure=function(e){return this.emitter.emit("ErrorReportAsyncFailure",e)},t.prototype.onUserCallbackUncaughtException=function(e){this.emitter.on("userCallbackUncaught",e)},t.prototype.emitUserCallbackUncaughtException=function(e){this.emitter.emit("userCallbackUncaught",e)},t}(o.ErrorReporter);t.ErrorHandlerNode=a},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(8),i=r(0),s=function(){function e(e){if(!e.rawError)throw new Error("You must provide an error to process");this._rawError=e.rawError,this._errorType=e.errorType,this._packageInfo=e.packageInfo,this._exeName=a(i.basename(process.execPath),e.exeName),this._errorReporter=e.errorReporter,this._pathMode=a(o.pathMode.defaultMode,e.mode)}return e.prototype.getStructuredStack=function(){if(!this._structuredError)try{this._structuredError=this.rawToStructured(this._rawError.stack)}catch(e){throw this.errorReporter&&this.errorReporter.emitInternalError(e,this._rawError,""),e}return this._structuredError},e.prototype.getStandardStack=function(){if(!this._standardStack)try{this._standardStack=o.structuredToStandard(this.getStructuredStack())}catch(e){throw this.errorReporter&&this.errorReporter.emitInternalError(e,this._rawError,""),e}return this._standardStack},e.prototype.getVerboseStack=function(){if(!this._verboseStack)try{this._verboseStack=o.structuredToSemiWatson(this.getStructuredStack())}catch(e){throw this.errorReporter&&this.errorReporter.emitInternalError(e,this._rawError,""),e}return this._verboseStack},Object.defineProperty(e.prototype,"errorName",{get:function(){return this._rawError.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorMessage",{get:function(){return this._rawError.message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorType",{get:function(){return this._errorType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawError",{get:function(){return this._rawError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"packageInfo",{get:function(){return this._packageInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exeName",{get:function(){return this._exeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorReporter",{get:function(){return this._errorReporter},enumerable:!0,configurable:!0}),e.prototype.rawToStructured=function(e){var t,r=new o.StackProcessor({appRoot:this.packageInfo.packageJsonFullPath,errorReporter:this.errorReporter,packageInfo:this.packageInfo,mode:this._pathMode}),n=e.split("\n");try{t=r.parseFirstLine(n[0])}catch(e){t={ErrorType:this.errorName,ErrorMessage:this.errorMessage,Stack:[]}}for(var i=1;i<n.length;i++){var s=void 0;try{s=r.parseStackLine(n[i],!0)}catch(e){this.errorReporter&&this.errorReporter.emitInternalError(e,this.rawError,n[i]),s={RelativePath:"UNSUPPORTED",extra:{failedToParse:!0,rawString:n[i]}}}t.Stack.push(s)}return t},e}();t.ErrorInformation=s,t.setStackTraceLimit=function(e){try{Error.stackTraceLimit(e)}catch(t){Error.stackTraceLimit=e}},t.coerceToError=function(e){return e instanceof Error?e:new c(e)};var c=function(e){function t(t){if(e.call(this),this.name="NonError",t.message?this.message=t.message:this.message=JSON.stringify(t),t.stack)this.stack=t.stack;else{var r=this.name+": "+this.message;this.stack=r+"\nat NonError"}this.originalObject=t}return n(t,e),t}(Error);function a(e,t,r){return void 0===r&&(r=!0),r&&void 0===t||!r&&!t?e:t}t.NonError=c,t.defaultValue=a},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/var n=r(8),o=r(0),i=r(0),s=r(2),c=["native","NonError","unknown"],a=function(){function e(e){switch(this.doFileIO=!0,this.appRoot=e.appRoot,this._errorReporter=e.errorReporter,this._packageInfo=e.packageInfo,e.mode){case n.pathMode.defaultMode:this.path=i;break;case n.pathMode.posix:this.path=o.posix;break;case n.pathMode.windows:this.path=o.win32;break;default:this.path=i}}return e.prototype.parseFirstLine=function(e){var t=e.match(/(^.+?\b)(?:: )?(?:(.+?\b): )?(.*)/);return{ErrorType:"Error"===t[1]&&t[2]?t[2]:t[1],ErrorMessage:t[3],Stack:[]}},e.prototype.parseStackLine=function(e,t){void 0===t&&(t=!1);var r=!1;e.includes("eval at")&&(r=!0,e=this.cleanEvalFrames(e)),e=n.replaceAll(e,"(anonymous function)","(anonymousfunction)");var o,i,s=!1,c="",a=(e=n.replaceAll(e,"unknown location","unknown")).match(/\s*at (new )?(.+?)(?: \[as ([^ ]+?)\])?(?: \((.*)\))?$/);if(!a){var u=new Error("unrecognized stack trace format: "+e);this._errorReporter&&this._errorReporter.emitInternalError(u,null,e);return{RelativePath:"UNSUPPORTED",Package:{name:"UNSUPPORTED"},line:-1,column:-1,extra:{failedToParse:!0}}}a[1]&&(s=!0),a[3]&&(c=a[3]),a[4]?(i=a[4],o=a[2]):(i=a[2],o="");var l=this.parseCodeLocation(i);l.FunctionName=o;var f=this.getPackageInfo(l.RelativePath);return l.RelativePath=f.strippedPath,t&&f.package&&(l.Package=f.package),(s||c||r)&&(s&&(l.FunctionName+=".constructor"),c&&(l.FunctionName+="["+c+"]"),l.extra={isNew:s,hasAs:c,isEval:r,failedToParse:!1,rawString:""}),l},e.prototype.cleanEvalFrames=function(e){return e.replace(/\eval at .+\), /,"")},e.prototype.parseCodeLocation=function(e){for(var t=c.length;t--;)if(c[t]===e)return{RelativePath:e,line:-1,column:-1,FunctionName:""};e=n.replaceAll(e,"file:///","");var r,o,i=(e=n.replaceAll(e,"%20"," ")).match(/(?:(^.+):(\d+):(\d+))/);if(!i){var s=new Error("unsupported location format");return this._errorReporter&&this._errorReporter.emitInternalError(s,null,e),{RelativePath:"UNSUPPORTED",line:-1,column:-1,FunctionName:""}}return r=parseInt(i[2],10),o=parseInt(i[3],10),{RelativePath:this.path.normalize(i[1]),line:r,column:o,FunctionName:""}},e.prototype.getPackageInfo=function(e){for(var t=c.length;t--;)if(c[t]===e)return{package:{name:"UNKNOWN"},strippedPath:e};if(!this.path.isAbsolute(e))return{package:{name:"node",version:process.version},strippedPath:e};var r=this.path.relative(this.appRoot,e),o=e.lastIndexOf("node_modules");if(-1!==o){var i=e.substring(0,o+"node_modules".length+1),a=this.path.relative(i,e),u=a.indexOf(this.path.sep);if(-1!==u){var l=a.substring(0,u);r=a.substring(u+1);var f={name:l};if(this.doFileIO)try{var h=this.path.join(i,l,"package.json"),p=JSON.parse(s.readFileSync(h,"utf8"));f.packageJsonFullPath=h,p.name&&(f.name=p.name),p.version&&(f.version=p.version)}catch(e){}return{package:f,strippedPath:r=n.convertPathToPosix(r)}}return this._errorReporter&&this._errorReporter.emitInternalError(new Error("javascript file in unexpected location"),null,e),{package:{name:"UNKNOWN"},strippedPath:e=this.path.basename(e)}}if(e.includes(".asar")){var d=e.lastIndexOf(".asar")+".asar".length,v=this.path.basename(e.substring(0,d)),g=n.convertPathToPosix(e.substring(d+1));return r=n.convertPathToPosix(r),{package:{name:v},strippedPath:g}}return r===e||r.startsWith("..")||""===this.appRoot?{package:{name:"UNKNOWN"},strippedPath:e=this.path.basename(e)}:(r=n.convertPathToPosix(r),{package:this._packageInfo,strippedPath:r})},e}();t.StackProcessor=a,t.removeUserName=function(e){var t=e.match(/[a-z]:\\Users\\([^\\]+)/i);return t&&(e=n.replaceAll(e,t[1],"USERNAME")),e},t.structuredToSemiWatson=function(e){var t=this,r=n.WATSON_LINE_BREAK,o="";return e.Stack.forEach((function(e){o+=(o?r:"")+t.frameToString(e)})),o},t.structuredToStandard=function(e){var t="";return e.Stack.forEach((function(e){e.FunctionName?(t+=(t?"\n":"")+(e.extra&&e.extra.isEval?"eval ":"")+"at "+e.FunctionName+" ("+e.RelativePath,-1!==e.line&&-1!==e.column&&(t+=":"+e.line+":"+e.column),t+=")"):(t+=(t?"\n":"")+(e.extra&&e.extra.isEval?"eval ":"")+"at "+e.RelativePath,-1!==e.line&&-1!==e.column&&(t+=":"+e.line+":"+e.column))})),t},t.frameToString=function(e){if(!e)return"UNSUPPORTED\tUNSUPPORTED";var t=e.Package.name;t||(t="UNKNOWN"),e.Package.version&&(t+="@"+e.Package.version);var r=e.RelativePath;r||(r="UNKNOWN"),-1!==e.line&&-1!==e.column&&(r+=":"+e.line+":"+e.column);var n=t+"\t"+r;return e.FunctionName&&(n+="\t"+e.FunctionName),n}},function(e,t,r){"use strict";
/*!---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/var n=r(0);t.WATSON_LINE_BREAK="\r\n",function(e){e[e.windows=0]="windows",e[e.posix=1]="posix",e[e.defaultMode=2]="defaultMode"}(t.pathMode||(t.pathMode={}));t.pathMode;function o(e,t,r){if(!t)return e;if(t===r)return e;if(r.includes(t))throw new Error("replacement string includes the search string. This will send you into an infinite loop.");for(;e.includes(t);)e=e.replace(t,r);return e}t.convertPathToPosix=function(e){var t=(e=o(e,"\\","/")).startsWith("//");if(!t){e=e.replace(/^([a-zA-Z]):/,"/$1")}return e=n.posix.normalize(e),t&&(e="/"+e),e},t.convertPathToWindows=function(e){var t=(e=o(e,"/","\\")).startsWith("\\\\");if(e.startsWith("\\")&&!t){var r=/^\\([a-zA-Z])\\/,i=e.match(r);e=i?e.replace(r,i[1]+":\\"):"A:"+e}return e=n.win32.normalize(e)},t.replaceAll=o;var i=/^(\d+\.\d+\.\d+(?:\.\d+)?)(?:-([A-Za-z0-9\.\-]+))?(?:\+([A-Za-z0-9\.\-]+))?$/,s=/\d{4}(\d{4})/;t.convertVersion=function(e){var t=e.match(i);if(t){var r=t[1];if(4===r.split(".").length)return r;var n=".",c=t[2];if(c){var a=c.split(".");if(0!==a.length){var u=a[0].match(s);u&&(n+=u[1]);var l=a.length-1;Number.isNaN(Number.parseInt(a[l]))||(n+=a[l])}}return"."!==n?r+n:r}return o(e,"_","-")}},function(e,t,r){"use strict";var n="win32"===process.platform,o=n?/[^:]\\$/:/.\/$/;e.exports=function(){var e;return e=n?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",o.test(e)&&(e=e.slice(0,-1)),e}},function(e,t){e.exports=require("constants")},function(e,t,r){"use strict";e.exports=r(53)()},function(e,t,r){"use strict";var n=r(7);e.exports="function"==typeof n.homedir?n.homedir:function(){var e=process.env,t=e.HOME,r=e.LOGNAME||e.USER||e.LNAME||e.USERNAME;return"win32"===process.platform?e.USERPROFILE||e.HOMEDRIVE+e.HOMEPATH||t||null:"darwin"===process.platform?t||(r?"/Users/"+r:null):"linux"===process.platform?t||(0===process.getuid()?"/root":r?"/home/"+r:null):t||null}},function(e,t,r){"use strict";var n=r(1),o=r(6),i=r(11),s=r(59),c=r(73),a=r(3),u=r(16),l=(r(5),function(){function e(e){this.options=e||{},this.options.clientName=this.options.clientName||"hubLookup",this.options.logger=this.options.logger||new o.Logger(this.options.clientName)}return e.prototype.getLocationService=function(){var e=this;return this.throwIfDisposed(),this.locationService||(this.locationService=c.ControllerConnection.connect(this.options).then((function(t){e.connection=t;var r=i.JsonRpcConnection.attach(t.stream,e.options.logger);r.onClose(e.resetLocationService,e);var n=new s.LocationServiceProxy(r);return n.updateClientInfo({clientName:e.options.clientName,pid:process.pid}).then((function(t){return e.startClientWatch(t),n}))}),(function(t){throw e.resetLocationService(),t}))),this.locationService},e.prototype.getConfig=function(){return this.options.getConfig()},e.prototype.stopHubController=function(){var e=this;return n.resolve(this.locationService).then((function(e){return e?e.stop():null})).then((function(){return e.connection?e.connection.controllerExitCode:void 0}))},e.prototype.disposeAsync=function(){return this.disposed=!0,n.resolve(this.locationService).then((function(e){return e?e.dispose():void 0}))},e.prototype.resetLocationService=function(){this.locationService=null,a.setLocationServicePipeName(void 0)},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new a.ServiceHubError(a.ErrorKind.ObjectDisposed)},e.prototype.startClientWatch=function(t){var r=this;t&&!e.clientWatchStreams[t]&&(e.clientWatchStreams[t]=u.connectWithRetries({url:t,timeoutMs:1e3}).then((function(n){return r.options.logger.info("Connected to Hub Controller's client watch '"+t+"'"),n.once("end",(function(){delete e.clientWatchStreams[t]})),n}),(function(n){return r.options.logger.error("Error connecting to Hub Controller's client watch '"+t+"': "+n.message),delete e.clientWatchStreams[t],null})))},e.clientWatchStreams={},e}());t.HubLookup=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(12);!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.MessageWriteError=1,e.MessageReadError=2}(t.ErrorCodes||(t.ErrorCodes={}));var i=function(e){function t(t,r,n){e.call(this,r),this.code=t,this.message=r,o.defined(n)&&(this.data=n)}return n(t,e),t.prototype.toJson=function(){var e={code:this.code,message:this.message};return o.defined(this.data)&&(e.data=this.data),e},t}(Error);t.ResponseError=i,t.isRequestMessage=function(e){var t=e;return t&&o.string(t.method)&&(o.string(t.id)||o.number(t.id))},t.isNotificationMessage=function(e){var t=e;return t&&o.string(t.method)&&o.undefined(e.id)},t.isReponseMessage=function(e){var t=e;return t&&(o.defined(t.result)||o.defined(t.error))&&(o.string(t.id)||o.number(t.id))}},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(13),i=r(12),s=new Buffer("\r","ascii")[0],c=new Buffer("\n","ascii")[0],a=function(){function e(e){void 0===e&&(e="utf-8"),this.encoding=e,this.index=0,this.buffer=new Buffer(8192)}return e.prototype.append=function(e){var t=e;if("string"==typeof e){var r=e;(t=new Buffer(r.length)).write(r,0,r.length,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var n=8192*(Math.ceil((this.index+t.length)/8192)+1);0===this.index?(this.buffer=new Buffer(n),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],n)}this.index+=t.length},e.prototype.tryReadHeaders=function(){for(var e=void 0,t=0;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==c||this.buffer[t+2]!==s||this.buffer[t+3]!==c);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((function(t){var r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");var n=t.substr(0,r),o=t.substr(r+1).trim();e[n]=o}));var r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e},e.prototype.tryReadContent=function(e){if(this.index<e)return null;var t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t},Object.defineProperty(e.prototype,"numberOfBytes",{get:function(){return this.index},enumerable:!0,configurable:!0}),e}(),u=function(){function e(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter}return Object.defineProperty(e.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireError=function(e){this.errorEmitter.fire(this.asError(e))},Object.defineProperty(e.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},e.prototype.asError=function(e){return e instanceof Error?e:new Error("Reader recevied error. Reason: "+(i.string(e.message)?e.message:"unknown"))},e}();t.AbstractMessageReader=u;var l=function(e){function t(t,r){void 0===r&&(r="utf-8"),e.call(this),this.readable=t,this.buffer=new a(r)}return n(t,e),t.prototype.listen=function(e){var t=this;this.nextMessageLength=-1,this.callback=e,this.readable.on("data",(function(e){t.onData(e)})),this.readable.on("error",(function(e){return t.fireError(e)})),this.readable.on("close",(function(){return t.fireClose()}))},t.prototype.onData=function(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){var t=this.buffer.tryReadHeaders();if(!t)return;var r=t["Content-Length"];if(!r)throw new Error("Header must provide a Content-Length property.");var n=parseInt(r);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var o=this.buffer.tryReadContent(this.nextMessageLength);if(null===o)return;this.nextMessageLength=-1;var i=JSON.parse(o);this.callback(i)}},t}(u);t.StreamMessageReader=l;var f=function(e){function t(t){var r=this;e.call(this),this.process=t,this.process.on("error",(function(e){return r.fireError(e)})),this.process.on("close",(function(){return r.fireClose()}))}return n(t,e),t.prototype.listen=function(e){this.process.on("message",e)},t}(u);t.IPCMessageReader=f},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(13),i=r(12),s=function(){function e(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter}return Object.defineProperty(e.prototype,"onError",{get:function(){return this.errorEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireError=function(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])},Object.defineProperty(e.prototype,"onClose",{get:function(){return this.closeEmitter.event},enumerable:!0,configurable:!0}),e.prototype.fireClose=function(){this.closeEmitter.fire(void 0)},e.prototype.asError=function(e){return e instanceof Error?e:new Error("Writer recevied error. Reason: "+(i.string(e.message)?e.message:"unknown"))},e}();t.AbstractMessageWriter=s;var c=function(e){function t(t,r){var n=this;void 0===r&&(r="utf8"),e.call(this),this.writable=t,this.encoding=r,this.errorCount=0,this.writable.on("error",(function(e){return n.fireError(e)})),this.writable.on("close",(function(){return n.fireClose()}))}return n(t,e),t.prototype.write=function(e){var t=JSON.stringify(e),r=["Content-Length: ",Buffer.byteLength(t,this.encoding).toString(),"\r\n","\r\n"];try{this.writable.write(r.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}},t}(s);t.StreamMessageWriter=c;var a=function(e){function t(t){var r=this;e.call(this),this.process=t,this.errorCount=0,this.process.on("error",(function(e){return r.fireError(e)})),this.process.on("close",(function(){return r.fireClose}))}return n(t,e),t.prototype.write=function(e){try{this.process.send(e),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}},t}(s);t.IPCMessageWriter=a},function(e,t,r){"use strict";var n,o=r(13);!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None})}(n=t.CancellationToken||(t.CancellationToken={}));var i=Object.freeze((function(e,t){var r=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(r)}}})),s=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?i:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)},enumerable:!0,configurable:!0}),e}(),c=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new s),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token.cancel():this._token=n.Cancelled},e.prototype.dispose=function(){this.cancel()},e}();t.CancellationTokenSource=c},function(e,t,r){"use strict";(function(e){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(18),i=r(1),s=r(0),c=r(5),a=r(60),u=r(11),l=r(19),f=r(38),h=r(69),p=r(71),d=r(15),v=r(72),g=r(3),m=r(10),y=r(6),E=r(4),b=function(){function e(e){if(!e)throw new Error(E.LibraryResourceStrings.variableIsNotDefined("host"));if(!e.host)throw new Error(E.LibraryResourceStrings.variableIsNotDefined("host.host"));this.hostId=e.hostId,this.host=e.host,this.hostGroup=e.hostGroup}return e.prototype.getId=function(){return this.host+(this.hostId?"$"+this.hostId:"")+(this.hostGroup?"$$"+this.hostGroup:"")},e.prototype.getHostInfoFileGlobPattern=function(){return this.hostId?"{"+this.host+"."+this.hostId+","+this.host+"}":this.host},e.create=function(t,r){var n=r&&r.hasHostGroup()?r.hostGroup.id:null;return new e({hostId:t.hostId,host:t.host,hostGroup:n})},e}();t.HostIdentity=b;var S=function(e){function t(t,r){e.call(this,t),this.hostProcess=r,this.endPoint=i.defer(),this.services=[],this.hasActiveServices=!1,this.pendingStartServiceRequestCount=0,this.touch()}return n(t,e),t.prototype.setCooldownTimeout=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.clearCooldownTimeout(),this.cooldownTimeout=global.setTimeout.apply(global,[e,t].concat(r))},t.prototype.clearCooldownTimeout=function(){this.cooldownTimeout&&(global.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=null)},t.prototype.touch=function(){this.lastAccessTimeMs=(new Date).getTime()},t}(b),w=function(){function t(e,t,r){if(this.hosts={},this.hostPids=[],this.locatedServices={},this.hostInfoMap={},this.externalClientCount=0,!e)throw new g.ServiceHubError(g.ErrorKind.InvalidArgument,E.LibraryResourceStrings.variableIsNotDefined("logger"));if(!t)throw new g.ServiceHubError(g.ErrorKind.InvalidArgument,E.LibraryResourceStrings.variableIsNotDefined("config"));r=r||{},this.hostCooldownMs=r.hostCooldownMs||1e4,this.fastShutdownHostCooldownMs=r.fastShutdownHostCooldownMs||500,this.logger=e,this.config=t,this.callbackPipeName=m.default().then((function(e){return g.formatPipeName(e)})),this.sessionId=m.default()}return t.prototype.updateClientInfo=function(e){throw new Error("Method not implemented.")},t.prototype.locate=function(e,t){var r=this,n=new v.ServiceDescriptor(e),o=((t=t||{}).clientName||"client")+(t.pid?" (pid: "+t.pid+")":""),s=n.getServiceKey();return this.logger.info(E.LibraryResourceStrings.locatingService(s,o)),this.isExternalClient(t)&&this.stopFastShutdown(),this.getHostedServiceLocation(n).then((function(n){if(n.host.shutdown)return r.locate(e,t);n.host.touch(),r.locatedServices[s]=i.resolve(n);var c=n.location+" @ "+n.host.getId();return r.logger.info(E.LibraryResourceStrings.serviceLocated(n.serviceId,c,o)),i.resolve(r.isExternalClient(t)?r.getClientWatchServerName():null).then((function(e){return{location:n.location,serviceId:n.serviceId,clientWatch:e}}))})).catch((function(e){return r.logger.error(E.LibraryResourceStrings.startingServiceFailed(s,o,""+(e.message||e))),i.reject(e)}))},t.prototype.stop=function(){var e=this,t=g.getPropertiesArray(this.hosts).map((function(t){return t.then((function(t){return e.stopHost(t,E.LibraryResourceStrings.forceControllerShutDown)}))}));return i.all(t)},t.prototype.getSessionId=function(){return this.sessionId},t.prototype.getServiceModuleInfo=function(e){var t=this,r={servicesFolderPath:this.config.services.rootDir,discoveryHelper:function(e){return t.discoverService(e)}};return h.getServiceModuleInfo(this.logger,e,r)},t.prototype.discoverService=function(e,t,r){var n=this;if(!t)return!(t=this.config.services.discoveryServices)||0==t.length||t.indexOf(e)>=0?i.resolve(null):this.discoverService(e,t,0);if(t.length<=r)return i.resolve(null);var o=t[r],s=new a.default(this.logger,this,o);return s.discoverService(e).then((function(e){return e?{filePath:e}:null}),(function(t){return n.logger.error(E.LibraryResourceStrings.locatingServcieError(o,e,t.message,t.stack)),{error:new Error(o+": "+t.message)}})).finally((function(){s.end().catch((function(e){return n.logger.error(E.LibraryResourceStrings.disconnectingDiscoveryServiceFailed(o,e.message,e.stack))})).done()})).then((function(o){return o||n.discoverService(e,t,r+1)}))},t.prototype.getHubHostInfo=function(e){var r=this;if(!e||!e.host)throw new g.ServiceHubError(g.ErrorKind.InvalidArgument,E.LibraryResourceStrings.variableIsNotDefined(e?"hostIdentity.host":"hostIdentity"));var n=e.getId();if(this.hostInfoMap.hasOwnProperty(n))return this.hostInfoMap[n];var o=e.getHostInfoFileGlobPattern();return this.hostInfoMap[n]=this.findHostConfigFile(o).then((function(e){return r.logger.info(E.LibraryResourceStrings.loadingHostInfo(n,e)),g.parseFileAsJson(e).then((function(r){return t.verifyHostInfo(r,e),r.filePath=e,r.hostExecutable=r.hostExecutable.replace("$CONTROLLERENGINE",(function(){return process.execPath})),f.expandDotRelativePaths(r,s.dirname(e),["host","hostExecutable"])})).catch((function(t){throw new g.ServiceHubError(g.ErrorKind.HubHostInfoLoadError,E.LibraryResourceStrings.cannotResolveHost(n,e,t.message))}))}))},t.prototype.findHostConfigFile=function(t){var r="*/"+t+".servicehub.host.json",n=s.join(e,g.Constants.HostInfoFolderName),o=this.config.hosts?this.config.hosts.rootDir:null;return(o?l.default(r,{cwd:o,nodir:!0,fileSelector:c,nosort:!0}):i.resolve(null)).then((function(e){return e||l.default(r,{cwd:n,nodir:!0,fileSelector:c,nosort:!0})})).then((function(e){if(e)return e;var r=o?E.LibraryResourceStrings.hostTypeNotFoundInLocation(t,o,n):E.LibraryResourceStrings.hostTypeNotFound(t,n);throw new g.ServiceHubError(g.ErrorKind.HubHostInfoLoadError,r)}));function c(e){return e[0]}},t.prototype.hostServicesStarted=function(e){if(!e)throw new Error(E.LibraryResourceStrings.variableIsNotDefined("hostId"));this.hosts.hasOwnProperty(e)&&this.hosts[e].then((function(e){return e.hasActiveServices=!0}))},t.prototype.hostServicesEnded=function(e){var t=this;if(!e)throw new Error(E.LibraryResourceStrings.variableIsNotDefined("hostId"));this.hosts.hasOwnProperty(e)&&this.hosts[e].then((function(e){return t.startHostCooldown(e)}))},t.prototype.onHostConnected=function(){},t.prototype.onLastHostDisconnected=function(){},t.verifyHostInfo=function(e,t){if(!e)throw new g.ServiceHubError(g.ErrorKind.InvalidArgument,E.LibraryResourceStrings.hostInfoNotDefined(t));if(!e.hostExecutable||"string"!=typeof e.hostExecutable||!e.hostArgs||"object"!=typeof e.hostArgs||!Array.isArray(e.hostArgs))throw new g.ServiceHubError(g.ErrorKind.InvalidArgument,E.LibraryResourceStrings.hostInfoInvalid(t));if(e.filePath){var r=E.LibraryResourceStrings.hostInfoContainsReservedProperty(t);throw new g.ServiceHubError(g.ErrorKind.InvalidArgument,r)}},t.isHostDebuggingOnStartupRequested=function(){return!!process.env.SERVICEHUBDEBUGHOSTONSTARTUP},t.isHostDebuggingOnStartupRequestedForHost=function(e){var t=process.env.SERVICEHUBDEBUGHOSTONSTARTUP;return!!t&&("all"===(t=t.toLowerCase())||t===s.basename(e.hostExecutable).toLowerCase())},t.prototype.getHostedServiceLocation=function(e){var t=this,r=e.getServiceKey();return this.locatedServices.hasOwnProperty(r)?this.locatedServices[r]:this.getServiceModuleInfo(e.name).then((function(n){if(t.locatedServices.hasOwnProperty(r))return t.locatedServices[r];var o=t.startService(n,e);return t.locatedServices[r]=o,o}))},t.prototype.startService=function(e,t){var r=this;if(t.hasHostGroup()&&!e.hostGroupAllowed){var n=E.LibraryResourceStrings.HostGroupNotSupported(t.name,t.hostGroup.id,"hostGroupAllowed");throw new g.ServiceHubError(g.ErrorKind.HostGroupsNotSupported,n)}var o=t.getServiceKey();this.logger.info(E.LibraryResourceStrings.firstTimeLoadingService(o));var i=b.create(e,t),s=i.getId();return(this.hosts.hasOwnProperty(s)?this.hosts[s]:this.hosts[s]=this.startNewHost(i)).then((function(n){return n.shutdown?(r.logger.info("The host '"+n.getId()+"' for service '"+t.name+"' is shutting down. We'll start a new host then."),r.startService(e,t)):(n.services.push(o),n.pendingStartServiceRequestCount++,n.endPoint.promise.then((function(t){return t.sendRequest(p.HostMethod.StartService,[e])})).then((function(e){return n.touch(),{location:e,host:n,serviceId:t.name}})).finally((function(){return n.pendingStartServiceRequestCount--})))}))},t.prototype.startNewHost=function(e){var r=this,n=e.getId(),i=null;return this.getHostCallbackPipe().then((function(t){return i=t,r.getHubHostInfo(e)})).then((function(c){var a=s.dirname(c.filePath),u=t.isHostDebuggingOnStartupRequestedForHost(c),l=c.hostArgs.indexOf(p.HostArgsToken.NodeDebugArgs);l>=0&&(u?c.hostArgs.splice(l,1,"--inspect-brk","--nolazy"):c.hostArgs.splice(l,1));var f=[].concat(c.hostArgs.map((function(e){return e.replace(p.HostArgsToken.HostId,(function(){return n})).replace(p.HostArgsToken.Pipe,(function(){return i}))})));r.logger.info(E.LibraryResourceStrings.launchingHostWithCmd(n,c.hostExecutable+" "+f.map((function(e){return'"'+e+'"'})).join(" ")));var h=o.spawn(c.hostExecutable,f,{cwd:a});y.traceProcessOutput(r.logger,h,"HubHost '"+n+"'");var d=new S(e,h);return h.once("exit",(function(e,t){return r.onHostExit(d,e,t)})),h.once("error",(function(e){return r.onHostError(d,e)})),u?r.logger.info("Skipping startHostCooldown since debugging on startup has been requested for host "+c.hostExecutable):r.startHostCooldown(d),r.logger.info(E.LibraryResourceStrings.hostLaunched(n,d.hostProcess.pid.toString())),d}))},t.prototype.onHostExit=function(e,t,r){var n=null!=t?E.LibraryResourceStrings.hostExitedWithCode(t,d.default[t]?" ("+d.default[t]+")":""):"",o=null!=r?E.LibraryResourceStrings.hostExitedWithSignal(r):"",i=E.LibraryResourceStrings.hostExited(e.host,e.hostProcess.pid.toString())+n+o,s=e.hostProcess.pid,c=this.hostPids.indexOf(s);c>=0&&this.hostPids.splice(c,1);try{process.kill(s,r)}catch(t){this.logger.warn(E.LibraryResourceStrings.couldNotKillHost(e.host,t.message))}this.forgetHost(e,new g.ServiceHubError(g.ErrorKind.InvalidOperation,i))},t.prototype.onHostError=function(e,t){this.forgetHost(e,t)},t.prototype.forgetHost=function(e,t){if(!e.shutdown){t&&e.endPoint.reject(t),e.shutdown=!0,delete this.hosts[e.getId()];for(var r=0,n=e.services;r<n.length;r++){var o=n[r];delete this.locatedServices[o]}0===Object.getOwnPropertyNames(this.hosts).length&&this.onLastHostDisconnected()}},t.prototype.onHostConnecting=function(e,t){var r=this;this.hosts.hasOwnProperty(t)?this.hosts[t].done((function(t){r.hostPids.push(t.hostProcess.pid),t.endPoint.resolve(e),e.onClose((function(){return r.forgetHost(t)}),r),r.onHostConnected()})):this.logger.error(E.LibraryResourceStrings.hostInfoNotFound(t))},t.prototype.onGetHostIdFailed=function(e){this.logger.error(E.LibraryResourceStrings.getHostIdFailed(""+(e.message||e)));var t=null;for(var r in this.hosts)if(this.hosts.hasOwnProperty(r)){var n=this.hosts[r].inspect();if("fulfilled"===n.state){var o=n.value.endPoint;if(o.promise.isPending){if(null!==t)return void this.logger.error(E.LibraryResourceStrings.moreThanOneHostPending);t=o}}}null!==t&&t.reject(e)},t.prototype.getHostCallbackPipe=function(){var e=this;return this.callbackPipeName.then((function(t){if(e.callbackPipeCreated)return t;var r={name:"hostCallback",logger:e.logger,pipeName:t};return g.serverManager.startService(r,(function(t){var r=u.JsonRpcConnection.attach(t,e.logger,e,["hostServicesStarted","hostServicesEnded"]);i(r.sendRequest("getHostId")).then((function(t){return e.onHostConnecting(r,t)})).catch((function(t){return e.onGetHostIdFailed(t)})).done()})).then((function(){return e.callbackPipeCreated=!0,t}))}))},t.prototype.getClientWatchServerName=function(){var e=this;if(!this.clientWatchServerName){var t={name:"clientWatch",logger:this.logger,onErrorCb:function(t){var r="Error in Client Watch server: "+t.message;e.logger.error(r)}};this.clientWatchServerName=g.serverManager.startService(t,this.onClientWatchConnection.bind(this))}return this.clientWatchServerName},t.prototype.onClientWatchConnection=function(e){var t=this;this.logger.info("External client connected to client watch."),this.externalClientCount++,this.stopFastShutdown(),e.once("end",(function(){t.logger.info("External client disconnected from client watch."),t.externalClientCount--,0===t.externalClientCount&&t.startFastShutdown()}))},Object.defineProperty(t.prototype,"currentHostCooldownMs",{get:function(){return this.isInFastShutdown?this.fastShutdownHostCooldownMs:this.hostCooldownMs},enumerable:!0,configurable:!0}),t.prototype.startFastShutdown=function(){this.isInFastShutdown||(this.isInFastShutdown=!0,this.logger.info("Starting fast shutdown"),this.updateHostCooldownTimeouts())},t.prototype.stopFastShutdown=function(){this.isInFastShutdown&&(this.isInFastShutdown=!1,this.logger.info("Stopping fast shutdown"))},t.prototype.updateHostCooldownTimeouts=function(){var e=this;for(var t in this.hosts)this.hosts[t].done((function(t){t.hasActiveServices||e.startHostCooldown(t)}),(function(t){e.logger.error("Error getting host: "+t.message)}))},t.prototype.getHost=function(e){if(!e)throw new Error(E.LibraryResourceStrings.variableIsNotDefined("hostid"));if(!this.hosts.hasOwnProperty(e))throw new Error(E.LibraryResourceStrings.unknownHost(e));return this.hosts[e]},t.prototype.startHostCooldown=function(e){e.hasActiveServices=!1,e.shutdown||e.setCooldownTimeout(this.shutdownInactiveHost.bind(this),this.currentHostCooldownMs,e)},t.prototype.shutdownInactiveHost=function(e){if(!e.hasActiveServices&&!e.shutdown){var t=(new Date).getTime();0===e.pendingStartServiceRequestCount&&e.lastAccessTimeMs<t-this.currentHostCooldownMs?this.stopHost(e,"inactivity").done():this.startHostCooldown(e)}},t.prototype.stopHost=function(e,t){this.logger.info(E.LibraryResourceStrings.stoppingHost(e.getId(),e.hostProcess.pid.toString(),t)),this.forgetHost(e),e.clearCooldownTimeout();var r=i.defer();return e.hostProcess.once("exit",(function(e){return r.resolve(e)})),e.endPoint.promise.then((function(e){return e.sendNotification(p.HostMethod.Exit)})).then((function(){return r.promise}))},t.prototype.isExternalClient=function(e){return e&&e.pid&&e.pid!==process.pid&&-1===this.hostPids.indexOf(e.pid)},t}();t.LocationService=w;var N=function(){function e(e){if(this.endPoint=e,!e)throw new g.ServiceHubError(g.ErrorKind.InvalidArgument,E.LibraryResourceStrings.variablesAreNotDefined("endPoint"))}return e.prototype.locate=function(e){new v.ServiceDescriptor(e).isServiceNameOnly()&&e.name;return i(this.endPoint.sendRequest("LocateAsync",[e]))},e.prototype.updateClientInfo=function(e){return i(this.endPoint.sendRequest("UpdateClientInfoAsync",[e]))},e.prototype.stop=function(){return i(this.endPoint.sendNotification("ExitAsync",["explicit request from the client"])).catch((function(e){if(e.code!==c.ENOENT.code)throw e}))},e.prototype.getSessionId=function(){return i(this.endPoint.sendRequest("GetSessionIdAsync"))},e.prototype.dispose=function(){this.endPoint.dispose()},e.prototype.startHeapDiff=function(){return i(this.endPoint.sendRequest("startHeapDiff"))},e.prototype.endHeapDiff=function(){return i(this.endPoint.sendRequest("endHeapDiff"))},e.prototype.runGC=function(){return i(this.endPoint.sendRequest("runGC"))},e.prototype.captureHeapDump=function(e){return i(this.endPoint.sendRequest("captureHeapDump",[e]))},e.prototype.getHubControllerPid=function(){return i(this.endPoint.sendRequest("GetHubControllerPidAsync"))},e}();t.LocationServiceProxy=N}).call(this,"/")},function(e,t,r){"use strict";var n=r(1),o=r(1),i=r(11),s=r(22),c=function(){function e(e,t,r){var c="hubController-"+r,a=new s.HubClientInternal(c,e,(function(){return o.resolve(t)}));this.endpoint=n(a.requestService(r)).then((function(t){return i.JsonRpcConnection.attach(t,e)}))}return e.prototype.discoverService=function(e){return this.endpoint.then((function(t){return t.sendRequest("discoverService",[e])}))},e.prototype.end=function(){return this.endpoint.then((function(e){return e.dispose()}))},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},function(e,t,r){var n=r(0),o="win32"===process.platform,i=r(2),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function c(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}n.normalize;if(o)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(o)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,s,c,l,f=e,h={},p={};function d(){var t=u.exec(e);r=t[0].length,s=t[0],c=t[0],l="",o&&!p[c]&&(i.lstatSync(c),p[c]=!0)}for(d();r<e.length;){a.lastIndex=r;var v=a.exec(e);if(l=s,s+=v[0],c=l+v[1],r=a.lastIndex,!(p[c]||t&&t[c]===c)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,c))g=t[c];else{var m=i.lstatSync(c);if(!m.isSymbolicLink()){p[c]=!0,t&&(t[c]=c);continue}var y=null;if(!o){var E=m.dev.toString(32)+":"+m.ino.toString(32);h.hasOwnProperty(E)&&(y=h[E])}null===y&&(i.statSync(c),y=i.readlinkSync(c)),g=n.resolve(l,y),t&&(t[c]=g),o||(h[E]=y)}e=n.resolve(g,e.slice(r)),d()}}return t&&(t[f]=e),e},t.realpath=function(e,t,r){if("function"!=typeof r&&(r=c(t),t=null),e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var s,l,f,h,p=e,d={},v={};function g(){var t=u.exec(e);s=t[0].length,l=t[0],f=t[0],h="",o&&!v[f]?i.lstat(f,(function(e){if(e)return r(e);v[f]=!0,m()})):process.nextTick(m)}function m(){if(s>=e.length)return t&&(t[p]=e),r(null,e);a.lastIndex=s;var n=a.exec(e);return h=l,l+=n[0],f=h+n[1],s=a.lastIndex,v[f]||t&&t[f]===f?process.nextTick(m):t&&Object.prototype.hasOwnProperty.call(t,f)?b(t[f]):i.lstat(f,y)}function y(e,n){if(e)return r(e);if(!n.isSymbolicLink())return v[f]=!0,t&&(t[f]=f),process.nextTick(m);if(!o){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(d.hasOwnProperty(s))return E(null,d[s],f)}i.stat(f,(function(e){if(e)return r(e);i.readlink(f,(function(e,t){o||(d[s]=t),E(e,t)}))}))}function E(e,o,i){if(e)return r(e);var s=n.resolve(h,o);t&&(t[i]=s),b(s)}function b(t){e=n.resolve(t,e.slice(s)),g()}g()}},function(e,t,r){var n=r(63),o=r(64);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,r){var i=[],s=o("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var a,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),g=u||f,m=s.body.indexOf(",")>=0;if(!g&&!m)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+c+s.post,e(t)):[t];if(g)a=s.body.split(/\.\./);else{if(1===(a=function e(t){if(!t)return[""];var r=[],n=o("{","}",t);if(!n)return t.split(",");var i=n.pre,s=n.body,c=n.post,a=i.split(",");a[a.length-1]+="{"+s+"}";var u=e(c);c.length&&(a[a.length-1]+=u.shift(),a.push.apply(a,u));return r.push.apply(r,a),r}(s.body)).length)if(1===(a=e(a[0],!1).map(h)).length)return(b=s.post.length?e(s.post,!1):[""]).map((function(e){return s.pre+a[0]+e}))}var y,E=s.pre,b=s.post.length?e(s.post,!1):[""];if(g){var S=l(a[0]),w=l(a[1]),N=Math.max(a[0].length,a[1].length),R=3==a.length?Math.abs(l(a[2])):1,I=d;w<S&&(R*=-1,I=v);var O=a.some(p);y=[];for(var P=S;I(P,w);P+=R){var C;if(f)"\\"===(C=String.fromCharCode(P))&&(C="");else if(C=String(P),O){var k=N-C.length;if(k>0){var x=new Array(k+1).join("0");C=P<0?"-"+x+C.slice(1):x+C}}y.push(C)}}else y=n(a,(function(t){return e(t,!1)}));for(var L=0;L<y.length;L++)for(var A=0;A<b.length;A++){var T=E+y[L]+b[A];(!r||g||T)&&i.push(T)}return i}(function(e){return e.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(c).split("\\,").join(a).split("\\.").join(u)}(e),!0).map(f)};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",c="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function f(e){return e.split(i).join("\\").split(s).join("{").split(c).join("}").split(a).join(",").split(u).join(".")}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function d(e,t){return e<=t}function v(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=t(e[o],o);r(i)?n.push.apply(n,i):n.push(i)}return n};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t,r){e instanceof RegExp&&(e=o(e,r)),t instanceof RegExp&&(t=o(t,r));var n=i(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function o(e,t){var r=t.match(e);return r?r[0]:null}function i(e,t,r){var n,o,i,s,c,a=r.indexOf(e),u=r.indexOf(t,a+1),l=a;if(a>=0&&u>0){for(n=[],i=r.length;l>=0&&!c;)l==a?(n.push(l),a=r.indexOf(e,l+1)):1==n.length?c=[n.pop(),u]:((o=n.pop())<i&&(i=o,s=u),u=r.indexOf(t,l+1)),l=a<u&&a>=0?a:u;n.length&&(c=[i,s])}return c}e.exports=n,n.range=i},function(e,t,r){try{var n=r(9);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(66)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){e.exports=p,p.GlobSync=d;var n=r(2),o=r(33),i=r(20),s=(i.Minimatch,r(32).Glob,r(9),r(0)),c=r(34),a=r(21),u=r(35),l=(u.alphasort,u.alphasorti,u.setopts),f=u.ownProp,h=u.childrenIgnored;function p(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new d(e,t).found}function d(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof d))return new d(e,t);if(l(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}d.prototype._finish=function(){if(c(this instanceof d),this.realpath){var e=this;this.matches.forEach((function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i),n[o.realpathSync(i,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;n[e._makeAbs(i)]=!0}}))}u.finish(this)},d.prototype._process=function(e,t,r){c(this instanceof d);for(var n,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,o).join("/")}var s,u=e.slice(o);null===n?s=".":a(n)||a(e.join("/"))?(n&&a(n)||(n="/"+n),s=n):s=n;var l=this._makeAbs(s);h(this,s)||(u[0]===i.GLOBSTAR?this._processGlobStar(n,s,l,u,t,r):this._processReaddir(n,s,l,u,t,r))},d.prototype._processReaddir=function(e,t,r,n,o,i){var c=this._readdir(r,i);if(c){for(var a=n[0],u=!!this.minimatch.negate,l=a._glob,f=this.dot||"."===l.charAt(0),h=[],p=0;p<c.length;p++){if("."!==(g=c[p]).charAt(0)||f)(u&&!e?!g.match(a):g.match(a))&&h.push(g)}var d=h.length;if(0!==d)if(1!==n.length||this.mark||this.stat){n.shift();for(p=0;p<d;p++){var v;g=h[p];v=e?[e,g]:[g],this._process(v.concat(n),o,i)}}else{this.matches[o]||(this.matches[o]=Object.create(null));for(var p=0;p<d;p++){var g=h[p];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this.matches[o][g]=!0}}}},d.prototype._emitMatch=function(e,t){this._makeAbs(t);if(this.mark&&(t=this._mark(t)),!this.matches[e][t]){if(this.nodir){var r=this.cache[this._makeAbs(t)];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}},d.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=n.lstatSync(e)}catch(e){return null}var o=r.isSymbolicLink();return this.symlinks[e]=o,o||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},d.prototype._readdir=function(e,t){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e);if(f(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,n.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},d.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t},d.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},d.prototype._processGlobStar=function(e,t,r,n,o,i){var s=this._readdir(r,i);if(s){var c=n.slice(1),a=e?[e]:[],u=a.concat(c);this._process(u,o,!1);var l=s.length;if(!this.symlinks[r]||!i)for(var f=0;f<l;f++){if("."!==s[f].charAt(0)||this.dot){var h=a.concat(s[f],c);this._process(h,o,!0);var p=a.concat(s[f],n);this._process(p,o,!0)}}}},d.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&a(e)&&!this.nomount){var n=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),n&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this.matches[t][e]=!0}},d.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&f(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||"DIR"===o)return o;if(r&&"FILE"===o)return!1}var i=this.statCache[t];if(!i){var s;try{s=n.lstatSync(t)}catch(e){return!1}if(s.isSymbolicLink())try{i=n.statSync(t)}catch(e){i=s}else i=s}this.statCache[t]=i;o=i.isDirectory()?"DIR":"FILE";return this.cache[t]=this.cache[t]||o,(!r||"DIR"===o)&&o},d.prototype._mark=function(e){return u.mark(this,e)},d.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},function(e,t,r){var n=r(36),o=Object.create(null),i=r(37);function s(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}e.exports=n((function(e,t){return o[e]?(o[e].push(t),null):(o[e]=[t],function(e){return i((function t(){var r=o[e],n=r.length,i=s(arguments);try{for(var c=0;c<n;c++)r[c].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){t.apply(null,i)}))):delete o[e]}}))}(e))}))},function(e,t,r){"use strict";var n=r(2),o=r(0),i=r(1),s=r(19),c=r(70),a=r(3),u=r(4),l={};function f(e){if(!e||0===e.length)return null;for(var t=0,r=e;t<r.length;t++){var n=r[t];if(".json"===o.extname(n))return n}return e[0]}function h(e,t,r){return e.info(u.LibraryResourceStrings.loadingServiceModule(r,t)),a.parseFileAsJson(r).then((function(e){if(e.name){var n=u.LibraryResourceStrings.serviceInfoInvalid(r,t,"name");throw new a.ServiceHubError(a.ErrorKind.ServiceModuleInfoInvalidPropertyError,n)}if(e.serviceBaseDirectory){n=u.LibraryResourceStrings.serviceInfoInvalid(r,t,"serviceBaseDirectory");throw new a.ServiceHubError(a.ErrorKind.ServiceModuleInfoInvalidPropertyError,n)}if(e.hostId&&e.hostId.indexOf(" ")>=0){n=u.LibraryResourceStrings.serviceInfoInvalidSpaceInHostId(r,t,e.hostId);throw new a.ServiceHubError(a.ErrorKind.ServiceModuleInfoInvalidPropertyError,n)}e.name=t,e.serviceBaseDirectory=o.dirname(r);var i=new c.ServiceModuleInfo(e);return l[t]=r,i})).catch((function(e){throw new a.ServiceHubError(a.ErrorKind.ServiceModuleInfoLoadError,u.LibraryResourceStrings.cannotResolveServiceModuleInfo(r,t,e.message))}))}t.getServiceModuleInfo=function e(t,r,o){if(!t)throw new a.ServiceHubError(a.ErrorKind.InvalidArgument,u.LibraryResourceStrings.variableIsNotDefined("logger"));if(!r)throw new a.ServiceHubError(a.ErrorKind.InvalidArgument,u.LibraryResourceStrings.variableIsNotDefined("service"));if(!o)throw new a.ServiceHubError(a.ErrorKind.InvalidArgument,u.LibraryResourceStrings.variableIsNotDefined("config"));if(!o.servicesFolderPath)throw new a.ServiceHubError(a.ErrorKind.ConfigurationError,u.LibraryResourceStrings.noFolderSpecified);var c=l[r];if(c)return t.info("Service module info for '"+r+"' has been loaded before from '"+c+"'. Trying to load it from there again."),i.ninvoke(n,"access",c,n.R_OK).then((function(){return h(t,r,c)}),(function(n){return t.info("Service module info for '"+r+"' is missing at '"+c+"'. Trying to discover the service again."),delete l[r],e(t,r,o)}));var p="*/"+r+".servicehub.service.json";return s.default(p,{cwd:o.servicesFolderPath,nodir:!0,fileSelector:f}).then((function(e){return e||!o.discoveryHelper?{filePath:e}:o.discoveryHelper(r)})).then((function(e){if(!e||!e.filePath){var n=e&&e.error?u.LibraryResourceStrings.cannotFindServiceModuleFileWithReason(p,o.servicesFolderPath,e.error.message):u.LibraryResourceStrings.cannotFindServiceModuleFile(p,o.servicesFolderPath);throw new a.ServiceHubError(a.ErrorKind.ServiceModuleInfoNotFound,n)}return h(t,r,e.filePath)}))}},function(e,t,r){"use strict";var n=r(3),o=r(4),i=function(e){if(!e)throw new n.ServiceHubError(n.ErrorKind.InvalidArgument,o.LibraryResourceStrings.variableIsNotDefined("source"));if(this.name=e.name,this.host=e.host,this.hostId=e.hostId,this.hostId||(this.hostId="C94B8CFE-E3FD-4BAF-A941-2866DBB566FE"),this.hostGroupAllowed=e.hostGroupAllowed,this.serviceBaseDirectory=e.serviceBaseDirectory,this.entryPoint=e.entryPoint,!e.host)throw new n.ServiceHubError(n.ErrorKind.InvalidArgument,o.LibraryResourceStrings.variableIsNotDefined("host"));if(!this.entryPoint)throw new n.ServiceHubError(n.ErrorKind.InvalidArgument,o.LibraryResourceStrings.variableIsNotDefined("entryPoint"))};t.ServiceModuleInfo=i},function(e,t,r){"use strict";var n=function(){function e(){}return e.HostId="$HOSTID",e.Pipe="$PIPE",e.NodeDebugArgs="$NODEDEBUGARGS",e}();t.HostArgsToken=n;var o=function(){function e(){}return e.StartService="startService",e.Exit="exit",e}();t.HostMethod=o},function(e,t,r){"use strict";var n=r(3),o=r(4),i=function(){function e(e){if(!e)throw new n.ServiceHubError(n.ErrorKind.InvalidArgument,o.LibraryResourceStrings.variableIsNotDefined("serviceDescriptor"));if(!e.name)throw new n.ServiceHubError(n.ErrorKind.InvalidArgument,o.LibraryResourceStrings.variableIsNotDefined("serviceDescriptor.name"));this.name=e.name,this.hostGroup=e.hostGroup}return e.prototype.hasHostGroup=function(){return!(!this.hostGroup||!this.hostGroup.id)},e.prototype.getServiceKey=function(){return this.name+(this.hasHostGroup()?"$"+this.hostGroup.id:"")},e.prototype.isServiceNameOnly=function(){return!this.hasHostGroup()},e}();t.ServiceDescriptor=i},function(e,t,r){"use strict";var n=r(1),o=r(1),i=r(0),s=r(18),c=r(7),a=r(17),u=r(3),l=r(39),f=r(15),h=r(6),p=r(16),d=r(3),v=(r(5),function(){function e(e){this.options=e,this.connectCts=new a.CancellationTokenSource,this.options=e||{},this.options.clientName=this.options.clientName||"hubControllerLookup",this.options.logger=this.options.logger||new h.Logger(this.options.clientName),this.options.getConfig=this.options.getConfig||l.getConfig,this.options.getPipeName=this.options.getPipeName||u.getLocationServicePipeName,this.pipeName=this.options.getPipeName(),this.deferredControllerExitCode=o.defer(),this.controllerExitCode=this.deferredControllerExitCode.promise}return e.connect=function(t){return new e(t).connectImpl()},e.prototype.connectImpl=function(){var e,t=this;return this.pipeName?(this.deferredControllerExitCode.resolve(void 0),e=p.connectWithRetries({url:this.pipeName,timeoutMs:5e3})):e=this.startController(),e.then((function(e){return d.setLocationServicePipeName(t.pipeName),t.stream=e,t.isConnected=!0,t}))},e.prototype.startController=function(){var e=this;return this.options.getConfig().then((function(t){return e.pipeName=t.controller.pipeName,(e.options.dontTryConnectBeforeStartingController?n.reject():p.connect(e.pipeName)).then((function(t){return e.deferredControllerExitCode.resolve(void 0),t}),(function(r){var n=t.controller.executable,o=t.controller.args.map((function(e){return e.indexOf('""')>=0?'" "':e})),a={cwd:t.filePath?i.dirname(t.filePath):void 0,detached:!0,windowsHide:!0};return t.controller.additionalEnvironmentVariables&&(a.env=function(e,t){for(var r in t)e[r]=t[r];return e}(function(){var e={};for(var t in process.env)e[t]=process.env[t];return e}(),t.controller.additionalEnvironmentVariables)),"dll"===n.substr(n.lastIndexOf(".")+1)&&("win32"===c.platform()?n="dotnet "+t.controller.executable:(n="/bin/bash ",o=["dotnet",t.controller.executable].concat(o))),e.options.logger.info("Starting Service Hub controller '"+n+" "+o.join(" ")+"'."),e.controllerProcess=s.spawn(n,o,a),e.controllerProcess.once("error",(function(t){return e.onControllerProcessExited(0,null,t)})),e.controllerProcess.once("exit",(function(t,r){return e.onControllerProcessExited(t,r)})),h.traceProcessOutput(e.options.logger,e.controllerProcess,"HubController"),p.connectWithRetries({url:e.pipeName,timeoutMs:5e3,cancellationToken:e.connectCts.token}).catch((function(t){throw e.controllerError||t}))}))}))},e.prototype.onControllerProcessExited=function(e,t,r){if(this.deferredControllerExitCode.resolve(e),e!==f.default.ErrorStartingServerPipeInUse)if(this.isConnected){if(r)this.error("Hub Controller process could not start properly: "+r.message);else if(t)this.options.logger.warn("Hub Controller process exited with signal '"+t+"'.");else if(e!==f.default.Success){var n=e+(f.default[e]?" ("+f.default[e]+")":"");this.error("Hub controller process exited with exit code "+n+".")}}else{var o;if(r)(o=new Error("Hub Controller process could not start properly: "+r.message)).inner=r;else if(t)(o=new Error("Hub Controller process exited prematurely with signal '"+t+"'.")).signal=t;else{n=e+(f.default[e]?" ("+f.default[e]+")":"");(o=new Error("Hub Controller process exited prematurely with exit code "+n+".")).exitCode=e}this.error(o.message),this.controllerError=o,this.connectCts.cancel()}},e.prototype.error=function(e){this.options.logger.error(e)},e}());t.ControllerConnection=v},function(e,t,r){"use strict";var n=r(18),o=r(0),i=r(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){try{if("win32"!==process.platform)return i.resolve(process.getuid&&0===process.getuid());var e,t=process.env.SystemRoot,r=o.join(t,"System32","fsutil.exe"),s=i.defer();return process.env.PATH?e=process.env:(e={},Object.keys(process.env).forEach((function(t){return e[t]=process.env[t]})),e.PATH=t+";"),n.execFile(r,["dirty","query",process.env.SystemDrive],{env:e,maxBuffer:10485760},(function(e){return s.resolve(!e)})),s.promise}catch(e){return i.reject(e)}}},function(e,t,r){"use strict";var n=r(10),o=function(e){this.id=e||n.randomHexStringSync(10)};t.HostGroup=o}]);
// SIG // Begin signature block
// SIG // MIIjhQYJKoZIhvcNAQcCoIIjdjCCI3ICAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // 6rA9WfcwvHmHUpOe+N5mkocmN8jX4Chtqt1QR6QuB76g
// SIG // gg2BMIIF/zCCA+egAwIBAgITMwAAAd9r8C6Sp0q00AAA
// SIG // AAAB3zANBgkqhkiG9w0BAQsFADB+MQswCQYDVQQGEwJV
// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH
// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBT
// SIG // aWduaW5nIFBDQSAyMDExMB4XDTIwMTIxNTIxMzE0NVoX
// SIG // DTIxMTIwMjIxMzE0NVowdDELMAkGA1UEBhMCVVMxEzAR
// SIG // BgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1v
// SIG // bmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlv
// SIG // bjEeMBwGA1UEAxMVTWljcm9zb2Z0IENvcnBvcmF0aW9u
// SIG // MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
// SIG // trsZWRAAo6nx5LhcqAsHy9uaHyPQ2VireMBI9yQUOPBj
// SIG // 7dVLA7/N+AnKFFDzJ7P+grT6GkOE4cv5GzjoP8yQJ6yX
// SIG // ojEKkXti7HW/zUiNoF11/ZWndf8j1Azl6OBjcD416tSW
// SIG // Yvh2VfdW1K+mY83j49YPm3qbKnfxwtV0nI9H092gMS0c
// SIG // pCUsxMRAZlPXksrjsFLqvgq4rnULVhjHSVOudL/yps3z
// SIG // OOmOpaPzAp56b898xC+zzHVHcKo/52IRht1FSC8V+7QH
// SIG // TG8+yzfuljiKU9QONa8GqDlZ7/vFGveB8IY2ZrtUu98n
// SIG // le0WWTcaIRHoCYvWGLLF2u1GVFJAggPipwIDAQABo4IB
// SIG // fjCCAXowHwYDVR0lBBgwFgYKKwYBBAGCN0wIAQYIKwYB
// SIG // BQUHAwMwHQYDVR0OBBYEFDj2zC/CHZDRrQnzJlT7byOl
// SIG // WfPjMFAGA1UdEQRJMEekRTBDMSkwJwYDVQQLEyBNaWNy
// SIG // b3NvZnQgT3BlcmF0aW9ucyBQdWVydG8gUmljbzEWMBQG
// SIG // A1UEBRMNMjMwMDEyKzQ2MzAwOTAfBgNVHSMEGDAWgBRI
// SIG // bmTlUAXTgqoXNzcitW2oynUClTBUBgNVHR8ETTBLMEmg
// SIG // R6BFhkNodHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtp
// SIG // b3BzL2NybC9NaWNDb2RTaWdQQ0EyMDExXzIwMTEtMDct
// SIG // MDguY3JsMGEGCCsGAQUFBwEBBFUwUzBRBggrBgEFBQcw
// SIG // AoZFaHR0cDovL3d3dy5taWNyb3NvZnQuY29tL3BraW9w
// SIG // cy9jZXJ0cy9NaWNDb2RTaWdQQ0EyMDExXzIwMTEtMDct
// SIG // MDguY3J0MAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEL
// SIG // BQADggIBAJ56h7Q8mFBWlQJLwCtHqqup4aC/eUmULt0Z
// SIG // 6We7XUPPUEd/vuwPuIa6+1eMcZpAeQTm0tGCvjACxNNm
// SIG // rY8FoD3aWEOvFnSxq6CWR5G2XYBERvu7RExZd2iheCqa
// SIG // EmhjrJGV6Uz5wmjKNj16ADFTBqbEBELMIpmatyEN50UH
// SIG // wZSdD6DDHDf/j5LPGUy9QaD2LCaaJLenKpefaugsqWWC
// SIG // MIMifPdh6bbcmxyoNWbUC1JUl3HETJboD4BHDWSWoDxI
// SIG // D2J4uG9dbJ40QIH9HckNMyPWi16k8VlFOaQiBYj09G9s
// SIG // LMc0agrchqqZBjPD/RmszvHmqJlSLQmAXCUgcgcf6UtH
// SIG // EmMAQRwGcSTg1KsUl6Ehg75k36lCV57Z1pC+KJKJNRYg
// SIG // g2eI6clzkLp2+noCF75IEO429rjtujsNJvEcJXg74TjK
// SIG // 5x7LqYjj26Myq6EmuqWhbVUofPWm1EqKEfEHWXInppqB
// SIG // YXFpBMBYOLKc72DT+JyLNfd9utVsk2kTGaHHhrp+xgk9
// SIG // kZeud7lI/hfoPeHOtwIc0quJIXS+B5RSD9nj79vbJn1J
// SIG // x7RqusmBQy509Kv2Pg4t48JaBfBFpJB0bUrl5RVG05sK
// SIG // /5Qw4G6WYioS0uwgUw499iNC+Yud9vrh3M8PNqGQ5mJm
// SIG // JiFEjG2ToEuuYe/e64+SSejpHhFCaAFcMIIHejCCBWKg
// SIG // AwIBAgIKYQ6Q0gAAAAAAAzANBgkqhkiG9w0BAQsFADCB
// SIG // iDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0
// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p
// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEyMDAGA1UEAxMpTWlj
// SIG // cm9zb2Z0IFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5
// SIG // IDIwMTEwHhcNMTEwNzA4MjA1OTA5WhcNMjYwNzA4MjEw
// SIG // OTA5WjB+MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2Fz
// SIG // aGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UE
// SIG // ChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSgwJgYDVQQD
// SIG // Ex9NaWNyb3NvZnQgQ29kZSBTaWduaW5nIFBDQSAyMDEx
// SIG // MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA
// SIG // q/D6chAcLq3YbqqCEE00uvK2WCGfQhsqa+laUKq4Bjga
// SIG // BEm6f8MMHt03a8YS2AvwOMKZBrDIOdUBFDFC04kNeWSH
// SIG // fpRgJGyvnkmc6Whe0t+bU7IKLMOv2akrrnoJr9eWWcpg
// SIG // GgXpZnboMlImEi/nqwhQz7NEt13YxC4Ddato88tt8zpc
// SIG // oRb0RrrgOGSsbmQ1eKagYw8t00CT+OPeBw3VXHmlSSnn
// SIG // Db6gE3e+lD3v++MrWhAfTVYoonpy4BI6t0le2O3tQ5GD
// SIG // 2Xuye4Yb2T6xjF3oiU+EGvKhL1nkkDstrjNYxbc+/jLT
// SIG // swM9sbKvkjh+0p2ALPVOVpEhNSXDOW5kf1O6nA+tGSOE
// SIG // y/S6A4aN91/w0FK/jJSHvMAhdCVfGCi2zCcoOCWYOUo2
// SIG // z3yxkq4cI6epZuxhH2rhKEmdX4jiJV3TIUs+UsS1Vz8k
// SIG // A/DRelsv1SPjcF0PUUZ3s/gA4bysAoJf28AVs70b1FVL
// SIG // 5zmhD+kjSbwYuER8ReTBw3J64HLnJN+/RpnF78IcV9uD
// SIG // jexNSTCnq47f7Fufr/zdsGbiwZeBe+3W7UvnSSmnEyim
// SIG // p31ngOaKYnhfsi+E11ecXL93KCjx7W3DKI8sj0A3T8Hh
// SIG // hUSJxAlMxdSlQy90lfdu+HggWCwTXWCVmj5PM4TasIgX
// SIG // 3p5O9JawvEagbJjS4NaIjAsCAwEAAaOCAe0wggHpMBAG
// SIG // CSsGAQQBgjcVAQQDAgEAMB0GA1UdDgQWBBRIbmTlUAXT
// SIG // gqoXNzcitW2oynUClTAZBgkrBgEEAYI3FAIEDB4KAFMA
// SIG // dQBiAEMAQTALBgNVHQ8EBAMCAYYwDwYDVR0TAQH/BAUw
// SIG // AwEB/zAfBgNVHSMEGDAWgBRyLToCMZBDuRQFTuHqp8cx
// SIG // 0SOJNDBaBgNVHR8EUzBRME+gTaBLhklodHRwOi8vY3Js
// SIG // Lm1pY3Jvc29mdC5jb20vcGtpL2NybC9wcm9kdWN0cy9N
// SIG // aWNSb29DZXJBdXQyMDExXzIwMTFfMDNfMjIuY3JsMF4G
// SIG // CCsGAQUFBwEBBFIwUDBOBggrBgEFBQcwAoZCaHR0cDov
// SIG // L3d3dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNS
// SIG // b29DZXJBdXQyMDExXzIwMTFfMDNfMjIuY3J0MIGfBgNV
// SIG // HSAEgZcwgZQwgZEGCSsGAQQBgjcuAzCBgzA/BggrBgEF
// SIG // BQcCARYzaHR0cDovL3d3dy5taWNyb3NvZnQuY29tL3Br
// SIG // aW9wcy9kb2NzL3ByaW1hcnljcHMuaHRtMEAGCCsGAQUF
// SIG // BwICMDQeMiAdAEwAZQBnAGEAbABfAHAAbwBsAGkAYwB5
// SIG // AF8AcwB0AGEAdABlAG0AZQBuAHQALiAdMA0GCSqGSIb3
// SIG // DQEBCwUAA4ICAQBn8oalmOBUeRou09h0ZyKbC5YR4WOS
// SIG // mUKWfdJ5DJDBZV8uLD74w3LRbYP+vj/oCso7v0epo/Np
// SIG // 22O/IjWll11lhJB9i0ZQVdgMknzSGksc8zxCi1LQsP1r
// SIG // 4z4HLimb5j0bpdS1HXeUOeLpZMlEPXh6I/MTfaaQdION
// SIG // 9MsmAkYqwooQu6SpBQyb7Wj6aC6VoCo/KmtYSWMfCWlu
// SIG // WpiW5IP0wI/zRive/DvQvTXvbiWu5a8n7dDd8w6vmSiX
// SIG // mE0OPQvyCInWH8MyGOLwxS3OW560STkKxgrCxq2u5bLZ
// SIG // 2xWIUUVYODJxJxp/sfQn+N4sOiBpmLJZiWhub6e3dMNA
// SIG // BQamASooPoI/E01mC8CzTfXhj38cbxV9Rad25UAqZaPD
// SIG // XVJihsMdYzaXht/a8/jyFqGaJ+HNpZfQ7l1jQeNbB5yH
// SIG // PgZ3BtEGsXUfFL5hYbXw3MYbBL7fQccOKO7eZS/sl/ah
// SIG // XJbYANahRr1Z85elCUtIEJmAH9AAKcWxm6U/RXceNcbS
// SIG // oqKfenoi+kiVH6v7RyOA9Z74v2u3S5fi63V4GuzqN5l5
// SIG // GEv/1rMjaHXmr/r8i+sLgOppO6/8MO0ETI7f33VtY5E9
// SIG // 0Z1WTk+/gFcioXgRMiF670EKsT/7qMykXcGhiJtXcVZO
// SIG // SEXAQsmbdlsKgEhr/Xmfwb1tbWrJUnMTDXpQzTGCFVww
// SIG // ghVYAgEBMIGVMH4xCzAJBgNVBAYTAlVTMRMwEQYDVQQI
// SIG // EwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4w
// SIG // HAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xKDAm
// SIG // BgNVBAMTH01pY3Jvc29mdCBDb2RlIFNpZ25pbmcgUENB
// SIG // IDIwMTECEzMAAAHfa/AukqdKtNAAAAAAAd8wDQYJYIZI
// SIG // AWUDBAIBBQCgga4wGQYJKoZIhvcNAQkDMQwGCisGAQQB
// SIG // gjcCAQQwHAYKKwYBBAGCNwIBCzEOMAwGCisGAQQBgjcC
// SIG // ARUwLwYJKoZIhvcNAQkEMSIEICNfn8q0AT8NQ5I/4Uj/
// SIG // l6Ar4ANSuhfhHWQZp7UbRZ34MEIGCisGAQQBgjcCAQwx
// SIG // NDAyoBSAEgBNAGkAYwByAG8AcwBvAGYAdKEagBhodHRw
// SIG // Oi8vd3d3Lm1pY3Jvc29mdC5jb20wDQYJKoZIhvcNAQEB
// SIG // BQAEggEAcvXK8iprV7/g9XpW5jTmYwvRQkYWq0l/cQe0
// SIG // Th8kMCr3tLLKOvb6x+WGfam0DY2/VVmJXKQ50DDJzo5X
// SIG // Zf+s3KJxcTgUWqBz6yvwb36xVQd9YkhrIMWbSbJfwfED
// SIG // 7hizYTLz+6sweVnYYx/10323Xz2FUoq21vV2YrpKw+Xf
// SIG // Ad5/zVYyu2Um32rrON+37aMHsaq64k6UjvQpkTCy+01e
// SIG // DVs973GQFBGbIsEwCBAutqTOyIm+nWfeQPJdpP+KjxMw
// SIG // a5rJSSR8+LzLcoGC4cJ7lxYhzDtzgYp4JnyoZqAp+nFg
// SIG // 7xR1v0wySxhbk/89oc//4SoKEZuK48MZSKdEcCpSMaGC
// SIG // EuYwghLiBgorBgEEAYI3AwMBMYIS0jCCEs4GCSqGSIb3
// SIG // DQEHAqCCEr8wghK7AgEDMQ8wDQYJYIZIAWUDBAIBBQAw
// SIG // ggFRBgsqhkiG9w0BCRABBKCCAUAEggE8MIIBOAIBAQYK
// SIG // KwYBBAGEWQoDATAxMA0GCWCGSAFlAwQCAQUABCB1L/tq
// SIG // MiswFihXGJbSDCIKST/cGIFSdv3Rl4oNkkr3MQIGYK6W
// SIG // xRdHGBMyMDIxMDUyNjIxNDA1Ny40MDhaMASAAgH0oIHQ
// SIG // pIHNMIHKMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2Fz
// SIG // aGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UE
// SIG // ChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSUwIwYDVQQL
// SIG // ExxNaWNyb3NvZnQgQW1lcmljYSBPcGVyYXRpb25zMSYw
// SIG // JAYDVQQLEx1UaGFsZXMgVFNTIEVTTjpENkJELUUzRTct
// SIG // MTY4NTElMCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3Rh
// SIG // bXAgU2VydmljZaCCDj0wggTxMIID2aADAgECAhMzAAAB
// SIG // UFii1KebCzDrAAAAAAFQMA0GCSqGSIb3DQEBCwUAMHwx
// SIG // CzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9u
// SIG // MRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNy
// SIG // b3NvZnQgQ29ycG9yYXRpb24xJjAkBgNVBAMTHU1pY3Jv
// SIG // c29mdCBUaW1lLVN0YW1wIFBDQSAyMDEwMB4XDTIwMTEx
// SIG // MjE4MjYwM1oXDTIyMDIxMTE4MjYwM1owgcoxCzAJBgNV
// SIG // BAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYD
// SIG // VQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQg
// SIG // Q29ycG9yYXRpb24xJTAjBgNVBAsTHE1pY3Jvc29mdCBB
// SIG // bWVyaWNhIE9wZXJhdGlvbnMxJjAkBgNVBAsTHVRoYWxl
// SIG // cyBUU1MgRVNOOkQ2QkQtRTNFNy0xNjg1MSUwIwYDVQQD
// SIG // ExxNaWNyb3NvZnQgVGltZS1TdGFtcCBTZXJ2aWNlMIIB
// SIG // IjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA53p/
// SIG // lHsqWcMnG1aaDfMzUgKp2ZeNPkY0U8de4LD71WDcbz3u
// SIG // j867kvyeV9pjjegUbfl2iQEySb5AoB71Yiaq1O0N/U9K
// SIG // k39Nnzk085AUdc4QdooS910mhKURPy9sEmu74C/I4TxY
// SIG // tHWfJ56nI/em1S2kbz7OwDV3gxd8aWTYFEii9hHoAXJk
// SIG // VLHvvdrlpPzWLI/GNxAr9qj50gjREqnUPeyUuCt0eT8x
// SIG // 0ghtsWL0US6fm/dBVSNiQkK9SAI/dlDZHtsCh20LOVXc
// SIG // iRPv74IOrcmXWsVuwFaIyKuSnHzN/kGoTSqbHTh5t+yM
// SIG // GJg9S307G9LVYVy424e6OE+nAiolmwIDAQABo4IBGzCC
// SIG // ARcwHQYDVR0OBBYEFIJVGR8ZRdutZC9DwQBDO7frn0V+
// SIG // MB8GA1UdIwQYMBaAFNVjOlyKMZDzQ3t8RhvFM2hahW1V
// SIG // MFYGA1UdHwRPME0wS6BJoEeGRWh0dHA6Ly9jcmwubWlj
// SIG // cm9zb2Z0LmNvbS9wa2kvY3JsL3Byb2R1Y3RzL01pY1Rp
// SIG // bVN0YVBDQV8yMDEwLTA3LTAxLmNybDBaBggrBgEFBQcB
// SIG // AQROMEwwSgYIKwYBBQUHMAKGPmh0dHA6Ly93d3cubWlj
// SIG // cm9zb2Z0LmNvbS9wa2kvY2VydHMvTWljVGltU3RhUENB
// SIG // XzIwMTAtMDctMDEuY3J0MAwGA1UdEwEB/wQCMAAwEwYD
// SIG // VR0lBAwwCgYIKwYBBQUHAwgwDQYJKoZIhvcNAQELBQAD
// SIG // ggEBAFE/aHRyjv7j49PAHi+T9h4sTDqhyt6D5PSQHZpY
// SIG // H9l7fMRe2PQR4hUDVmDCnfxyNq8mDrt0gALN7cWWkaWp
// SIG // b2NEdelliEMwvRvaKkg+0DTdETMbIogjDOuf56vcUjyK
// SIG // 5mIemk1xYCDLoeBizZO4DEBcm1G4NmZS2bJ/a+Uc8V/8
// SIG // fGite4IBFipooo9ZYG/+gBPmwD1LhMsudLmulPWbNPm4
// SIG // vPx752bOj4jMBobV8/7Ea2WgGI2y72glzpPg20bxwaGB
// SIG // 0EJt+UKz1CH4jXMN9IIiDEcu8WB44ppfyMWpDBVCeepi
// SIG // xN0r520hsWisKaT5ZCLMOR4XpnUhh7OUpa0E214wggZx
// SIG // MIIEWaADAgECAgphCYEqAAAAAAACMA0GCSqGSIb3DQEB
// SIG // CwUAMIGIMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2Fz
// SIG // aGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UE
// SIG // ChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMTIwMAYDVQQD
// SIG // EylNaWNyb3NvZnQgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRo
// SIG // b3JpdHkgMjAxMDAeFw0xMDA3MDEyMTM2NTVaFw0yNTA3
// SIG // MDEyMTQ2NTVaMHwxCzAJBgNVBAYTAlVTMRMwEQYDVQQI
// SIG // EwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4w
// SIG // HAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xJjAk
// SIG // BgNVBAMTHU1pY3Jvc29mdCBUaW1lLVN0YW1wIFBDQSAy
// SIG // MDEwMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
// SIG // AQEAqR0NvHcRijog7PwTl/X6f2mUa3RUENWlCgCChfvt
// SIG // fGhLLF/Fw+Vhwna3PmYrW/AVUycEMR9BGxqVHc4JE458
// SIG // YTBZsTBED/FgiIRUQwzXTbg4CLNC3ZOs1nMwVyaCo0UN
// SIG // 0Or1R4HNvyRgMlhgRvJYR4YyhB50YWeRX4FUsc+TTJLB
// SIG // xKZd0WETbijGGvmGgLvfYfxGwScdJGcSchohiq9LZIlQ
// SIG // YrFd/XcfPfBXday9ikJNQFHRD5wGPmd/9WbAA5ZEfu/Q
// SIG // S/1u5ZrKsajyeioKMfDaTgaRtogINeh4HLDpmc085y9E
// SIG // uqf03GS9pAHBIAmTeM38vMDJRF1eFpwBBU8iTQIDAQAB
// SIG // o4IB5jCCAeIwEAYJKwYBBAGCNxUBBAMCAQAwHQYDVR0O
// SIG // BBYEFNVjOlyKMZDzQ3t8RhvFM2hahW1VMBkGCSsGAQQB
// SIG // gjcUAgQMHgoAUwB1AGIAQwBBMAsGA1UdDwQEAwIBhjAP
// SIG // BgNVHRMBAf8EBTADAQH/MB8GA1UdIwQYMBaAFNX2VsuP
// SIG // 6KJcYmjRPZSQW9fOmhjEMFYGA1UdHwRPME0wS6BJoEeG
// SIG // RWh0dHA6Ly9jcmwubWljcm9zb2Z0LmNvbS9wa2kvY3Js
// SIG // L3Byb2R1Y3RzL01pY1Jvb0NlckF1dF8yMDEwLTA2LTIz
// SIG // LmNybDBaBggrBgEFBQcBAQROMEwwSgYIKwYBBQUHMAKG
// SIG // Pmh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2kvY2Vy
// SIG // dHMvTWljUm9vQ2VyQXV0XzIwMTAtMDYtMjMuY3J0MIGg
// SIG // BgNVHSABAf8EgZUwgZIwgY8GCSsGAQQBgjcuAzCBgTA9
// SIG // BggrBgEFBQcCARYxaHR0cDovL3d3dy5taWNyb3NvZnQu
// SIG // Y29tL1BLSS9kb2NzL0NQUy9kZWZhdWx0Lmh0bTBABggr
// SIG // BgEFBQcCAjA0HjIgHQBMAGUAZwBhAGwAXwBQAG8AbABp
// SIG // AGMAeQBfAFMAdABhAHQAZQBtAGUAbgB0AC4gHTANBgkq
// SIG // hkiG9w0BAQsFAAOCAgEAB+aIUQ3ixuCYP4FxAz2do6Eh
// SIG // b7Prpsz1Mb7PBeKp/vpXbRkws8LFZslq3/Xn8Hi9x6ie
// SIG // JeP5vO1rVFcIK1GCRBL7uVOMzPRgEop2zEBAQZvcXBf/
// SIG // XPleFzWYJFZLdO9CEMivv3/Gf/I3fVo/HPKZeUqRUgCv
// SIG // OA8X9S95gWXZqbVr5MfO9sp6AG9LMEQkIjzP7QOllo9Z
// SIG // Kby2/QThcJ8ySif9Va8v/rbljjO7Yl+a21dA6fHOmWaQ
// SIG // jP9qYn/dxUoLkSbiOewZSnFjnXshbcOco6I8+n99lmqQ
// SIG // eKZt0uGc+R38ONiU9MalCpaGpL2eGq4EQoO4tYCbIjgg
// SIG // tSXlZOz39L9+Y1klD3ouOVd2onGqBooPiRa6YacRy5rY
// SIG // DkeagMXQzafQ732D8OE7cQnfXXSYIghh2rBQHm+98eEA
// SIG // 3+cxB6STOvdlR3jo+KhIq/fecn5ha293qYHLpwmsObvs
// SIG // xsvYgrRyzR30uIUBHoD7G4kqVDmyW9rIDVWZeodzOwjm
// SIG // mC3qjeAzLhIp9cAvVCch98isTtoouLGp25ayp0Kiyc8Z
// SIG // QU3ghvkqmqMRZjDTu3QyS99je/WZii8bxyGvWbWu3EQ8
// SIG // l1Bx16HSxVXjad5XwdHeMMD9zOZN+w2/XU/pnR4ZOC+8
// SIG // z1gFLu8NoFA12u8JJxzVs341Hgi62jbb01+P3nSISRKh
// SIG // ggLPMIICOAIBATCB+KGB0KSBzTCByjELMAkGA1UEBhMC
// SIG // VVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT
// SIG // B1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jw
// SIG // b3JhdGlvbjElMCMGA1UECxMcTWljcm9zb2Z0IEFtZXJp
// SIG // Y2EgT3BlcmF0aW9uczEmMCQGA1UECxMdVGhhbGVzIFRT
// SIG // UyBFU046RDZCRC1FM0U3LTE2ODUxJTAjBgNVBAMTHE1p
// SIG // Y3Jvc29mdCBUaW1lLVN0YW1wIFNlcnZpY2WiIwoBATAH
// SIG // BgUrDgMCGgMVACMNe59y8TVrRhGbWpZZpDGWHqASoIGD
// SIG // MIGApH4wfDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldh
// SIG // c2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNV
// SIG // BAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UE
// SIG // AxMdTWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIwMTAw
// SIG // DQYJKoZIhvcNAQEFBQACBQDkWRVDMCIYDzIwMjEwNTI3
// SIG // MDI0MzE1WhgPMjAyMTA1MjgwMjQzMTVaMHgwPgYKKwYB
// SIG // BAGEWQoEATEwMC4wCgIFAORZFUMCAQAwCwIBAAIDBx3l
// SIG // AgH/MAcCAQACAhFfMAoCBQDkWmbDAgEAMDYGCisGAQQB
// SIG // hFkKBAIxKDAmMAwGCisGAQQBhFkKAwKgCjAIAgEAAgMH
// SIG // oSChCjAIAgEAAgMBhqAwDQYJKoZIhvcNAQEFBQADgYEA
// SIG // Ce3toB4ydq7MMV2xmxmnjur32chZ9VSAdsRXMKsx499U
// SIG // bJGOpk+g0SpTHzbXajcHABaKBkRGSPP8dWIpMR5r4vI3
// SIG // hw8eYo7IenSfvQKSEUYbUoi7LsjnGSVZNh0mMBtorF63
// SIG // DDwyN0jJXsEhDAxlVE1r51g5wXZvpDVsIWUAn9YxggMN
// SIG // MIIDCQIBATCBkzB8MQswCQYDVQQGEwJVUzETMBEGA1UE
// SIG // CBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEe
// SIG // MBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMSYw
// SIG // JAYDVQQDEx1NaWNyb3NvZnQgVGltZS1TdGFtcCBQQ0Eg
// SIG // MjAxMAITMwAAAVBYotSnmwsw6wAAAAABUDANBglghkgB
// SIG // ZQMEAgEFAKCCAUowGgYJKoZIhvcNAQkDMQ0GCyqGSIb3
// SIG // DQEJEAEEMC8GCSqGSIb3DQEJBDEiBCB527Sx42D3mPog
// SIG // y5KE3w+7GgQLE3pD0YzGoUrWxIRIZzCB+gYLKoZIhvcN
// SIG // AQkQAi8xgeowgecwgeQwgb0EIGz0Pp8vmsJOGBcmYYiF
// SIG // 1dLohjVmDqinjt2Qonwv8qP2MIGYMIGApH4wfDELMAkG
// SIG // A1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAO
// SIG // BgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29m
// SIG // dCBDb3Jwb3JhdGlvbjEmMCQGA1UEAxMdTWljcm9zb2Z0
// SIG // IFRpbWUtU3RhbXAgUENBIDIwMTACEzMAAAFQWKLUp5sL
// SIG // MOsAAAAAAVAwIgQggNp6+I3qjl5xPBe6OLmOg+ORLgzc
// SIG // P1E0nF5fH+8+uWwwDQYJKoZIhvcNAQELBQAEggEAU5DF
// SIG // n4DzD7NlBLtXMhTcuQELqvKrCRFsYPTEjE837zOIBnAN
// SIG // xX5zXe/9glFz+DPvwkzOniJq2Y0SSBYv8Z+4Cf6S+EkM
// SIG // PmyTK1FIFQul1rNSwdp7Io2ReHDbMxaxIcEIOpEHD/7X
// SIG // dzRnM0SulvnDOYJo9uda7EUqauinaQ79hHgvFe1C/3rl
// SIG // H7CNm3ZupuB12AmYbbS0oTXIPtnBNh5MmewoPxLApTX3
// SIG // sKHTKjiD0gSpkTG1OnTyVr0Gr1CL8VjyoDnj//HRvEJf
// SIG // 4B8IWVPBZTs2mA1w0wXhuQhtkJ+5F7CO2yW3RDMCE6p1
// SIG // ZuUp+Ns/EKdk2dfckiVUuxsnCaZtvw==
// SIG // End signature block
